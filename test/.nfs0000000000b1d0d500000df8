Script started on Fri 29 May 2015 11:22:47 PM PDT
~
dding002@hammer $ cs100
[0;91m
===============================================================================
|                                                                             |
| You have enabled settings specific for cs100.  Everything you do is being   |
| recorded to measure your progress in the class.                             |
|                                                                             |
| Important commands for the class:                                           |
|   * calcgrade.sh          displays a detailed breakdown of your grade       |
|   * checksyscalls.sh      is your cpp file doing proper error checking?     |
|   * typespeed             practice typing unix commands                     |
|                                                                             |
| Important commands for general C++ programming:                             |
|   * make                  don't call g++ manually; let make do the work!    |
|   * gdb                   the GNU debugger                                  |
|   * valgrind              get rid of your memory leaks                      |
|   * cppcheck              static analysis tool                              |
|   * man                   find help about any syscall / terminal command    |
|                                                                             |
===============================================================================
[0m
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m cd cs100
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100[0;95m [0;36m$[0m cd assignment/assignment0/
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m make run
bin/rshell
~/cs100/assignment/assignment0 $ cd #Change to Home directory                   e g to home directory
chdir: No such file or directory
~/cs100/assignment/assignment0 $ cd
~ $ $ # #took       cd -
~/cs100/assignment/assignment0 $ #Changed to previous directory
Executable: No such file or directory
~/cs100/assignment/assignment0 $ # changed to precious directoyr
Executable: No such file or directory
~/cs100/assignment/assignment0 $ exit
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m vim src.[K/r[Krnn[K[Kunn[K[K[K[Krshell.cpp 
[?1000h7[?47h[?1h=[1;64r[m[37m[40m[1m[H[2J[64;1H[1m[37m[41mE325: ATTENTION[m[37m[40m[1m
Found a swap file by the name "src/.rshell.cpp.swp"
[10Cowned by: dding002   dated: Fri May 29 22:52:20 2015
[9Cfile name: ~dding002/cs100/assignment/assignment0/src/rshell.cpp
[10Cmodified: no
[9Cuser name: dding002   host name: hammer.cs.ucr.edu
[8Cprocess ID: 46501 (still running)
While opening file "src/rshell.cpp"
[13Cdated: Fri May 29 23:12:33 2015
      NEWER than swap file!

(1) Another program may be editing the same file.
    If this is the case, be careful not to end up with two
    different instances of the same file when making changes.
    Quit, or continue with caution.

(2) An edit session for this file crashed.
    If this is the case, use ":recover" or "vim -r src/rshell.cpp"
    to recover the changes (see ":help recovery").
    If you did this already, delete the swap file "src/.rshell.cpp.swp"
    to avoid this message.
[?1000l
[1m[32mSwap file "src/.rshell.cpp.swp" already exists![m[37m[40m[1m
[1m[32m[O]pen Read-Only, (E)dit anyway, (R)ecover, (Q)uit, (A)bort: [?1000h[m[37m[40m[1m[64;1H[K[64;1H"src/rshell.cpp" 514L, 14917C
Using swap file "src/.rshell.cpp.swp"
Original file "~/cs100/assignment/assignment0/src/rshell.cpp"
[1m[37m[41mE308: Warning: Original file may have been changed[m[37m[40m[1m
Recovery completed. You should check if everything is OK.
(You might want to write out this file under another name
and run diff with the original file to check for changes)
Delete the .swp file afterwards.


[>c[?1000l[1m[32mPress ENTER or type command to continueP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1002h[m[37m[40m[1m[1;1H[10L[1;1H[1m[33m452 [m[37m[40m[1m[1m[36m    }*/[m[37m[40m[1m
[1m[33m453 [m[37m[40m[1m    [1m[32mchar[m[37m[40m[1m cwd[[1m[35mBUFSIZ[m[37m[40m[1m];
[1m[33m454 
455 [m[37m[40m[1m    [1m[36m//Declarations[m[37m[40m[1m
[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos)[46m{[m[37m[40m[1m
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C [46m}[m[37m[40m[1m
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m490 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m491 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m);
[1m[33m492 [m[37m[40m[1m            }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m493 [m[37m[40m[1m                args.push_back(*it);[42;41H[K[43;1H[1m[33m494 [m[37m[40m[1m            }[43;18H[K[44;1H[1m[33m495 [m[37m[40m[1m        }[44;15H[K[45;1H[1m[33m496 [m[37m[40m[1m        [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m497 [m[37m[40m[1m        [1m[33mif[m[37m[40m[1m(concatArg(args)){[46;33H[K[47;1H[1m[33m498 [m[37m[40m[1m            [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[47;35H[K[48;1H[1m[33m499 [m[37m[40m[1m                comCD(args);[48;33H[K[49;1H[1m[33m500 [m[37m[40m[1m[8C    }[1m[33melse[m[37m[40m[1m{[49;23H[K[50;1H[1m[33m501 [m[37m[40m[1m                allCommand(args);
[1m[33m502 [m[37m[40m[1m[11C }
[1m[33m503 [m[37m[40m[1m        }[52;14H[K[53;1H[1m[33m504 [m[37m[40m[1m        args.clear();[53;26H[K[54;1H[1m[33m505 [m[37m[40m[1m    }[54;10H[K[55;1H[1m[33m506 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;[55;18H[K[56;1H[1m[33m507 [m[37m[40m[1m}
[1m[34m~                                                                                                                                                                                                                                            [58;1H~                                                                                                                                                                                                                                            [59;1H~                                                                                                                                                                                                                                            [60;1H~                                                                                                                                                                                                                                            [61;1H~                                                                                                                                                                                                                                            [62;1H~                                                                                                                                                                                                                                            [63;1H~                                                                                                                                                                                                                                            [m[37m[40m[1m[64;1H[K[64;220H483,9[9CBot[32;13H[30;49H{[32;13H}[41;32H[46m{[43;17H}[m[37m[40m[1m[64;221H92,28[41;32H{[43;17H}[64;222H1,24[40;28H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m449 [m[37m[40m[1m[1m[36m        user = getlogin();[m[37m[40m[1m
[1m[33m450 [m[37m[40m[1m[1m[36m    }else{[m[37m[40m[1m
[1m[33m451 [m[37m[40m[1m[1m[36m        perror("Cannot get User Name");[m[37m[40m[1m[64;220H[K[64;220H491,24[8CBot[43;28H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m446 [m[37m[40m[1m[1m[36m        perror("Cannot get Host Name");[m[37m[40m[1m
[1m[33m447 [m[37m[40m[1m[1m[36m    }[m[37m[40m[1m
[1m[33m448 [m[37m[40m[1m[1m[36m    if(getlogin() != NULL){[m[37m[40m[1m[64;220H[K[64;220H491,24[8CBot[46;28H[64;221H86,9 [41;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m443 [m[37m[40m[1m[1m[36m    char* user;[m[37m[40m[1m
[1m[33m444 [m[37m[40m[1m[1m[36m    int hStat = gethostname(host, 200);[m[37m[40m[1m
[1m[33m445 [m[37m[40m[1m[1m[36m    if(hStat !=0){[m[37m[40m[1m[64;220H[K[64;220H486,9[9C99%[44;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m440 [m[37m[40m[1m[1m[32mint[m[37m[40m[1m main([1m[32mint[m[37m[40m[1m argc,[1m[32mchar[m[37m[40m[1m **argv){
[1m[33m441 [m[37m[40m[1m    [1m[36m//Login[m[37m[40m[1m
[1m[33m442 [m[37m[40m[1m    [1m[36m/*char host[200];//allocate memeory for host[m[37m[40m[1m[64;220H[K[64;220H486,9[9C98%[47;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m437 
438 [m[37m[40m[1m}
[1m[33m439 [m[37m[40m[1m[64;220H[K[64;220H486,9[9C98%[50;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m434 [m[37m[40m[1m    forks = [1m[35m0[m[37m[40m[1m;
[1m[33m435 [m[37m[40m[1m    pids = [1m[35m0[m[37m[40m[1m;
[1m[33m436 [m[37m[40m[1m    pidfd = [1m[35m0[m[37m[40m[1m;[64;220H[K[64;220H486,9[9C97%[53;13H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m497 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m498 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m499 [m[37m[40m[1m[15C comCD(args);[64;220H[K[64;220H486,9[9C98%[50;13H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m500 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m501 [m[37m[40m[1m[15C allCommand(args);
[1m[33m502 [m[37m[40m[1m[11C }[64;220H[K[64;220H486,9[9C98%[47;13H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m503 [m[37m[40m[1m[7C }
[1m[33m504 [m[37m[40m[1m[7C args.clear();
[1m[33m505 [m[37m[40m[1m    }[64;220H[K[64;220H486,9[9C99%[44;13H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m506 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m507 [m[37m[40m[1m}
[1m[34m~                                                                                                                                                                                                                                            [m[37m[40m[1m[64;220H[K[64;220H486,9[9CBot[41;13H[1;63r[1;1H[3M[1;64r[61;1H[1m[34m~                                                                                                                                                                                                                                            [62;1H~                                                                                                                                                                                                                                            [63;1H~                                                                                                                                                                                                                                            [m[37m[40m[1m[64;220H[K[64;220H486,9[9CBot[38;13H[64;222H8,20[40;24H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m446 [m[37m[40m[1m[1m[36m        perror("Cannot get Host Name");[m[37m[40m[1m
[1m[33m447 [m[37m[40m[1m[1m[36m    }[m[37m[40m[1m
[1m[33m448 [m[37m[40m[1m[1m[36m    if(getlogin() != NULL){[m[37m[40m[1m[64;220H[K[64;220H488,20[8CBot[43;24H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m443 [m[37m[40m[1m[1m[36m    char* user;[m[37m[40m[1m
[1m[33m444 [m[37m[40m[1m[1m[36m    int hStat = gethostname(host, 200);[m[37m[40m[1m
[1m[33m445 [m[37m[40m[1m[1m[36m    if(hStat !=0){[m[37m[40m[1m[64;220H[K[64;220H488,20[8C99%[46;24H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m440 [m[37m[40m[1m[1m[32mint[m[37m[40m[1m main([1m[32mint[m[37m[40m[1m argc,[1m[32mchar[m[37m[40m[1m **argv){
[1m[33m441 [m[37m[40m[1m    [1m[36m//Login[m[37m[40m[1m
[1m[33m442 [m[37m[40m[1m    [1m[36m/*char host[200];//allocate memeory for host[m[37m[40m[1m[64;220H[K[64;220H488,20[8C98%[49;24H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m437 
438 [m[37m[40m[1m}
[1m[33m439 [m[37m[40m[1m[64;220H[K[64;220H488,20[8C98%[52;24H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m434 [m[37m[40m[1m    forks = [1m[35m0[m[37m[40m[1m;
[1m[33m435 [m[37m[40m[1m    pids = [1m[35m0[m[37m[40m[1m;
[1m[33m436 [m[37m[40m[1m    pidfd = [1m[35m0[m[37m[40m[1m;[64;220H[K[64;220H488,20[8C97%[55;24H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m431 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] pids;
[1m[33m432 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] pidfd;
[1m[33m433 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] forks;[64;220H[K[64;220H488,20[8C96%[58;24H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m428 [m[37m[40m[1m    }
[1m[33m429 
430 [m[37m[40m[1m    [1m[36m//De-allocate memory[m[37m[40m[1m[64;220H[K[64;220H487,8[9C96%[60;12H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m425 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m;
[1m[33m426 [m[37m[40m[1m[7C }
[1m[33m427 [m[37m[40m[1m[7C cout << [1m[35m"Child PID: "[m[37m[40m[1m<< pid << endl;[64;220H[K[64;220H484,8[9C95%[60;12H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m422 [m[37m[40m[1m[7C sigignore([1m[35mSIGINT[m[37m[40m[1m);
[1m[33m423 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m((pid = wait(&status))<[1m[35m0[m[37m[40m[1m){
[1m[33m424 [m[37m[40m[1m[11C perror([1m[35m"wait"[m[37m[40m[1m);[64;220H[K[64;220H481,37[8C94%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m419 [m[37m[40m[1m    pid_t pid;
[1m[33m420 [m[37m[40m[1m    [1m[36m//waits for all the child[m[37m[40m[1m
[1m[33m421 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m( [1m[32mint[m[37m[40m[1m w=[1m[35m0[m[37m[40m[1m; w < pipeNum+[1m[35m1[m[37m[40m[1m; ++w) {[60;29H[46m{[62;13H}[m[37m[40m[1m[64;220H[K[64;220H478,25[8C94%[60;29H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m416 [m[37m[40m[1m[7C close(pidfd[j]);
[1m[33m417 [m[37m[40m[1m    }
[1m[33m418 [m[37m[40m[1m[58;43H[46m{[60;13H}[m[37m[40m[1m[63;29H{[64;220H[K[64;220H475,9[9C93%[60;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m413 
414 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m([1m[32mint[m[37m[40m[1m j = [1m[35m0[m[37m[40m[1m;j<pipeNum*[1m[35m2[m[37m[40m[1m;++j){
[1m[33m415 [m[37m[40m[1m[7C cout << [1m[35m"parent closed: "[m[37m[40m[1m << j << endl;[61;43H{[63;13H}[64;220H[K[64;220H472,37[8C92%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m410 [m[37m[40m[1m[11C exit([1m[35m0[m[37m[40m[1m);
[1m[33m411 [m[37m[40m[1m[7C }
[1m[33m412 [m[37m[40m[1m    }[58;66H[46m{[60;17H}[m[37m[40m[1m[64;220H[K[64;220H469,13[8C92%[60;17H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m407 [m[37m[40m[1m[15C cout << [1m[35m"child closed: "[m[37m[40m[1m << j << endl;
[1m[33m408 [m[37m[40m[1m[15C close(pidfd[j]);
[1m[33m409 [m[37m[40m[1m[11C }[61;66H{[63;17H}[64;220H[K[64;220H466,37[8C91%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m404 [m[37m[40m[1m[11C }
[1m[33m405 [m[37m[40m[1m[11C singleCommand(commands[i]);
[1m[33m406 [m[37m[40m[1m[11C [1m[33mfor[m[37m[40m[1m([1m[32mint[m[37m[40m[1m j = [1m[35m0[m[37m[40m[1m;j < pipeNum*[1m[35m2[m[37m[40m[1m;++j){[64;220H[K[64;220H463,37[8C90%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m401 [m[37m[40m[1m[15C [1m[33mfor[m[37m[40m[1m([1m[32mint[m[37m[40m[1m j = [1m[35m0[m[37m[40m[1m;j<pipeNum*[1m[35m2[m[37m[40m[1m;++j){
[1m[33m402 [m[37m[40m[1m[19C close(pidfd[j]);
[1m[33m403 [m[37m[40m[1m[15C }[64;220H[K[64;220H460,16[8C90%[60;20H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m398 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m;
[1m[33m399 [m[37m[40m[1m[15C }
[1m[33m400 [m[37m[40m[1m[15C singleCommand(commands[i]);[64;220H[K[64;220H457,24[8C89%[60;28H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m395 [m[37m[40m[1m[15C [1m[36m//Changes cin and cout[m[37m[40m[1m
[1m[33m396 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(pidfd[(i-[1m[35m1[m[37m[40m[1m)*[1m[35m2[m[37m[40m[1m + [1m[35m3[m[37m[40m[1m],[1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m397 [m[37m[40m[1m[19C perror([1m[35m"dup2"[m[37m[40m[1m);[64;220H[K[64;220H454,4[9C88%[60;8H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m392 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m;
[1m[33m393 [m[37m[40m[1m[15C }
[1m[33m394 [m[37m[40m[1m[64;220H[K[64;220H451,37[8C88%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m389 [m[37m[40m[1m[15C [1m[36m//Redirect pipes in the mid[m[37m[40m[1m
[1m[33m390 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(pidfd[(i-[1m[35m1[m[37m[40m[1m)*[1m[35m2[m[37m[40m[1m],[1m[35m0[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m391 [m[37m[40m[1m[19C perror([1m[35m"dup2"[m[37m[40m[1m);[60;31H[1m[36m[46m{[62;9H}[m[37m[40m[1m[1m[36melse{[m[37m[40m[1m[64;220H[K[64;220H448,27[8C87%[60;31H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m386 [m[37m[40m[1m[15C [1m[36m// } [m[37m[40m[1m
[1m[33m387 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{[1m[36m//----------------------------------------Other Fork[m[37m[40m[1m
[1m[33m388 [m[37m[40m[1m[15C [1m[36m//cout << " Fork" << endl;[m[37m[40m[1m[60;22H[1m[36m[46m{[62;9H}[m[37m[40m[1m[63;31H[1m[36m{[m[37m[40m[1m[64;220H[K[64;220H445,18[8C86%[60;22H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m383 [m[37m[40m[1m[15C [1m[36m// singleCommand(commands[i]);[m[37m[40m[1m
[1m[33m384 [m[37m[40m[1m[15C [1m[36m// for(int j = 0;j<pipeNum*2;++j){[m[37m[40m[1m
[1m[33m385 [m[37m[40m[1m[15C [1m[36m//     close(pidfd[j]);[63;22H{[m[37m[40m[1m[64;220H[K[64;220H442,37[8C86%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m380 [m[37m[40m[1m[19C perror([1m[35m"dup2"[m[37m[40m[1m);
[1m[33m381 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m;
[1m[33m382 [m[37m[40m[1m[15C }[64;220H[K[64;220H439,0-1[7C85%[60;5H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m377 [m[37m[40m[1m[15C [1m[36m//cout << "Last Fork" << endl;[m[37m[40m[1m
[1m[33m378 [m[37m[40m[1m[15C [1m[36m//Redirect cin to last pipe[m[37m[40m[1m
[1m[33m379 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(pidfd[(i-[1m[35m1[m[37m[40m[1m)*[1m[35m2[m[37m[40m[1m],[1m[35m0[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H436,14[8C84%[60;18H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m374 [m[37m[40m[1m[19C }
[1m[33m375 [m[37m[40m[1m[15C }
[1m[33m376 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(i==pipeNum){[1m[36m//---------------------Last Fork[m[37m[40m[1m[64;220H[K[64;220H433,20[8C84%[60;24H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m371 [m[37m[40m[1m[23C [1m[33mif[m[37m[40m[1m(close(pidfd[j])<[1m[35m0[m[37m[40m[1m){
[1m[33m372 [m[37m[40m[1m[27C perror([1m[35m"close"[m[37m[40m[1m);
[1m[33m373 [m[37m[40m[1m[23C }[64;220H[K[64;220H430,24[8C83%[60;28H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m368 [m[37m[40m[1m[15C [1m[36m//close all the pipes[m[37m[40m[1m
[1m[33m369 [m[37m[40m[1m[15C [1m[33mfor[m[37m[40m[1m([1m[32mint[m[37m[40m[1m j = [1m[35m0[m[37m[40m[1m;j<pipeNum*[1m[35m2[m[37m[40m[1m;++j){
[1m[33m370 [m[37m[40m[1m[19C [1m[33mif[m[37m[40m[1m(j != [1m[35m1[m[37m[40m[1m){[64;220H[K[64;220H427,37[8C82%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m365 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m;
[1m[33m366 [m[37m[40m[1m[15C }
[1m[33m367 [m[37m[40m[1m[15C singleCommand(commands[i]);[64;220H[K[64;220H424,27[8C81%[60;31H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m362 [m[37m[40m[1m[15C [1m[36m//Redirect cout to first pipe[m[37m[40m[1m
[1m[33m363 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(pidfd[[1m[35m1[m[37m[40m[1m],[1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m364 [m[37m[40m[1m[19C perror([1m[35m"dup2"[m[37m[40m[1m);[60;12H[46m([28C)[m[37m[40m[1m[64;220H[K[64;220H421,37[8C81%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m359 [m[37m[40m[1m[7C [1m[36m//Where to run runargs();[m[37m[40m[1m
[1m[33m360 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i==[1m[35m0[m[37m[40m[1m){[1m[36m//-------------------------------------First [m[37m[40m[1m
[1m[33m361 [m[37m[40m[1m[15C [1m[36m//cout << "First Fork" << endl;[m[37m[40m[1m[63;12H([28C)[64;220H[K[64;220H418,4[9C80%[60;8H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m356 [m[37m[40m[1m[11C perror([1m[35m"fork"[m[37m[40m[1m);
[1m[33m357 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m;
[1m[33m358 [m[37m[40m[1m[7C } [1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m (forks[i] == [1m[35m0[m[37m[40m[1m) {[64;220H[K[64;220H415,37[8C79%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m353 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m( [1m[32mint[m[37m[40m[1m i=[1m[35m0[m[37m[40m[1m; i < pipeNum + [1m[35m1[m[37m[40m[1m; ++i)[46m{[m[37m[40m[1m
[1m[33m354 [m[37m[40m[1m[7C [1m[36m//cout << "i: " << i << endl;[m[37m[40m[1m
[1m[33m355 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m ((forks[i] = fork()) < [1m[35m0[m[37m[40m[1m) {[60;9H[46m}[m[37m[40m[1m[64;220H[K[64;220H412,5[9C79%[60;9H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m350 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m( [1m[32mint[m[37m[40m[1m j=[1m[35m0[m[37m[40m[1m; j < pipeNum; ++j){
[1m[33m351 [m[37m[40m[1m[7C pipe(pidfd + (j*[1m[35m2[m[37m[40m[1m));
[1m[33m352 [m[37m[40m[1m    }[4;44H{[63;9H}[64;220H[K[64;220H409,14[8C78%[60;18H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m347 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m* pidfd = [1m[33mnew[m[37m[40m[1m [1m[32mint[m[37m[40m[1m[pipeNum*[1m[35m2[m[37m[40m[1m];
[1m[33m348 
349 [m[37m[40m[1m    [1m[36m//Set up pipes[m[37m[40m[1m[64;220H[K[64;220H406,37[8C77%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m344 
345 [m[37m[40m[1m    pid_t* pids = [1m[33mnew[m[37m[40m[1m pid_t[pipeNum];
[1m[33m346 [m[37m[40m[1m    pid_t* forks = [1m[33mnew[m[37m[40m[1m pid_t[pipeNum+[1m[35m1[m[37m[40m[1m];[64;220H[K[64;220H403,18[8C77%[60;22H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m341 [m[37m[40m[1m[1m[36m        0,2,4 are reads[m[37m[40m[1m
[1m[33m342 [m[37m[40m[1m[1m[36m        1,3,5 are writes[][m[37m[40m[1m
[1m[33m343 [m[37m[40m[1m[1m[36m    */[m[37m[40m[1m[64;220H[K[64;220H400,37[8C76%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m338 
339 [m[37m[40m[1m    [1m[36m//pids = #of forks[m[37m[40m[1m
[1m[33m340 [m[37m[40m[1m    [1m[36m/*pidfd[m[37m[40m[1m[64;220H[K[64;220H397,35[8C75%[60;39H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m335 [m[37m[40m[1m[1m[36m    }else{[m[37m[40m[1m
[1m[33m336 [m[37m[40m[1m[1m[36m        cout << "Sorry too many Pipes" << endl;[m[37m[40m[1m
[1m[33m337 [m[37m[40m[1m[1m[36m    }*/[m[37m[40m[1m[64;220H[K[64;220H394,16[8C75%[60;20H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m332 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m333 [m[37m[40m[1m[1m[36m            return;[m[37m[40m[1m
[1m[33m334 [m[37m[40m[1m[1m[36m        }[m[37m[40m[1m[64;220H[K[64;220H391,35[8C74%[60;39H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m329 [m[37m[40m[1m[1m[36m            if(status<0){[m[37m[40m[1m
[1m[33m330 [m[37m[40m[1m[1m[36m                perror("Wait");[m[37m[40m[1m
[1m[33m331 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m[64;220H[K[64;220H388,37[8C73%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m326 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m327 [m[37m[40m[1m[1m[36m            close(pipefd[1]); [m[37m[40m[1m
[1m[33m328 [m[37m[40m[1m[1m[36m            wait(&status);[m[37m[40m[1m[60;39H[1m[36m[46m[[m[37m[40m[1m[1m[36mj[m[37m[40m[1m[1m[36m[46m][m[37m[40m[1m[1m[36m);[m[37m[40m[1m[64;220H[K[64;220H385,37[8C73%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m323 [m[37m[40m[1m[1m[36m            if(execvp(arguments[0],arguments.data())<0){[m[37m[40m[1m
[1m[33m324 [m[37m[40m[1m[1m[36m                perror("Executable Parent");[m[37m[40m[1m
[1m[33m325 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m[57;49H[46m{[60;21H}[m[37m[40m[1m[63;39H[1m[36m[j]);[m[37m[40m[1m[64;220H[K[64;220H382,17[8C72%[60;21H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m320 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m
[1m[33m321 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m322 [m[37m[40m[1m[1m[36m            [m[37m[40m[1m[60;49H{[63;21H}[64;220H[K[64;220H379,37[8C71%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m317 [m[37m[40m[1m[1m[36m            [m[37m[40m[1m
[1m[33m318 [m[37m[40m[1m[1m[36m            if(dup2(pipefd[1],1)<0){[m[37m[40m[1m
[1m[33m319 [m[37m[40m[1m[1m[36m                perror("dup fd1");[m[37m[40m[1m[64;220H[K[64;220H376,37[8C71%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m314 [m[37m[40m[1m[1m[36m                arguments.push_back(&commands[0][i][0]);[m[37m[40m[1m
[1m[33m315 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m316 [m[37m[40m[1m[1m[36m            arguments.push_back('\0');[m[37m[40m[1m[58;50H[46m{[60;29H}[m[37m[40m[1m[64;220H[K[64;220H373,25[8C70%[60;29H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m311 [m[37m[40m[1m[1m[36m            close(pipefd[0]);[m[37m[40m[1m
[1m[33m312 [m[37m[40m[1m[1m[36m            vector<char *> arguments;[m[37m[40m[1m
[1m[33m313 [m[37m[40m[1m[1m[36m            for(size_t i = 0; i < commands[0].size(); ++i){[m[37m[40m[1m[61;50H{[63;29H}[64;220H[K[64;220H370,31[8C69%[60;35H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m308 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m309 [m[37m[40m[1m[1m[36m            close(pipefd[0]); //Close infile[m[37m[40m[1m
[1m[33m310 [m[37m[40m[1m[1m[36m        }else{ //Parent runs the other function[m[37m[40m[1m[64;220H[K[64;220H367,37[8C69%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m305 [m[37m[40m[1m[1m[36m            if(execvp(arguments[0],arguments.data())<0){[m[37m[40m[1m
[1m[33m306 [m[37m[40m[1m[1m[36m                perror("Executable Child");[m[37m[40m[1m
[1m[33m307 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m[64;220H[K[64;220H364,35[8C68%[60;39H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m302 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m
[1m[33m303 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m304 [m[37m[40m[1m[1m[36m            [m[37m[40m[1m[64;220H[K[64;220H361,37[8C67%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m299 [m[37m[40m[1m[1m[36m            [m[37m[40m[1m
[1m[33m300 [m[37m[40m[1m[1m[36m            if(dup2(pipefd[0],0)<0){[m[37m[40m[1m
[1m[33m301 [m[37m[40m[1m[1m[36m                perror("dup fd0");[m[37m[40m[1m[64;220H[K[64;220H358,35[8C67%[60;39H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m296 [m[37m[40m[1m[1m[36m                arguments.push_back(&commands[1][i][0]);[m[37m[40m[1m
[1m[33m297 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m298 [m[37m[40m[1m[1m[36m            arguments.push_back('\0');[m[37m[40m[1m[64;220H[K[64;220H355,37[8C66%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m293 [m[37m[40m[1m[1m[36m            close(pipefd[1]); //Close outfile end[m[37m[40m[1m
[1m[33m294 [m[37m[40m[1m[1m[36m            vector<char *> arguments;[m[37m[40m[1m
[1m[33m295 [m[37m[40m[1m[1m[36m            for(size_t i = 0; i < commands[1].size(); ++i){[m[37m[40m[1m[58;40H[46m{[60;9H}[m[37m[40m[1m[64;220H[K[64;220H352,5[9C65%[60;9H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m290 [m[37m[40m[1m[1m[36m        }[m[37m[40m[1m
[1m[33m291 [m[37m[40m[1m[1m[36m        pid = fork();[m[37m[40m[1m
[1m[33m292 [m[37m[40m[1m[1m[36m        if (pid == 0) { //Child Runs the first Function[m[37m[40m[1m[61;40H{[63;9H}[64;220H[K[64;220H349,18[8C65%[60;22H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m287 [m[37m[40m[1m[1m[36m        if (pipe(pipefd) == -1) {[m[37m[40m[1m
[1m[33m288 [m[37m[40m[1m[1m[36m            perror("pipe");[m[37m[40m[1m
[1m[33m289 [m[37m[40m[1m[1m[36m            return;[m[37m[40m[1m[64;220H[K[64;220H346,37[8C64%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m284 [m[37m[40m[1m    [1m[36m/*int pipefd[2];[m[37m[40m[1m
[1m[33m285 [m[37m[40m[1m[1m[36m    pid_t pid;[m[37m[40m[1m
[1m[33m286 [m[37m[40m[1m[1m[36m    if(pipeNum == 1){[m[37m[40m[1m[64;220H[K[64;220H343,8[9C63%[60;12H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m281 [m[37m[40m[1m    }
[1m[33m282 
283 [m[37m[40m[1m[1m[36m//========================PIPES============================[m[37m[40m[1m[64;220H[K[64;220H340,11[8C63%[60;15H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m278 [m[37m[40m[1m    [1m[33mif[m[37m[40m[1m(pipeNum == [1m[35m0[m[37m[40m[1m){
[1m[33m279 [m[37m[40m[1m[7C singleCommand(argList);
[1m[33m280 [m[37m[40m[1m[7C [1m[33mreturn[m[37m[40m[1m;[64;220H[K[64;220H337,7[9C62%[60;11H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m275 [m[37m[40m[1m    }
[1m[33m276 [m[37m[40m[1m    commands.push_back(args);
[1m[33m277 [m[37m[40m[1m    [1m[36m//For if there is no pipes[m[37m[40m[1m[36;18H[1m[36m[46m{[m[37m[40m[1m[1m[36m //Parent runs the other function[m[37m[40m[1m[60;13H[1m[36m[46m}[m[37m[40m[1m[64;220H[K[64;220H334,9[9C61%[60;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m272 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m{
[1m[33m273 [m[37m[40m[1m[11C args.push_back(argList[i]);
[1m[33m274 [m[37m[40m[1m[7C }[39;18H[1m[36m{ //Parent runs the other function[63;13H}[m[37m[40m[1m[64;220H[K[64;220H331,24[8C61%[60;28H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m269 [m[37m[40m[1m[11C commands.push_back(args);
[1m[33m270 [m[37m[40m[1m[11C args.clear();
[1m[33m271 [m[37m[40m[1m[11C pipeNum++;[64;220H[K[64;220H328,26[8C60%[60;30H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m266 [m[37m[40m[1m    vector<vector<string> > commands;
[1m[33m267 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m([1m[32munsigned[m[37m[40m[1m [1m[32mint[m[37m[40m[1m i = [1m[35m0[m[37m[40m[1m; i<argList.size();++i){
[1m[33m268 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(argList[i]==[1m[35m"|"[m[37m[40m[1m){[64;220H[K[64;220H325,24[8C59%[60;28H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m263 [m[37m[40m[1m[1m[32mvoid[m[37m[40m[1m allCommand(vector<string> argList){
[1m[33m264 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m pipeNum = [1m[35m0[m[37m[40m[1m, status;
[1m[33m265 [m[37m[40m[1m    vector<string> args;[64;220H[K[64;220H322,12[8C59%[60;16H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m260 
261 [m[37m[40m[1m[1m[36m//============Main management for the arguments===============[m[37m[40m[1m
[1m[33m262 [m[37m[40m[1m[1m[36m//+++++++++++++++++++++++++=BROKEN++++++++++++++++++++++++++++++[m[37m[40m[1m[64;220H[K[64;220H319,34[8C58%[60;38H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m257 [m[37m[40m[1m    }
[1m[33m258 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35mtrue[m[37m[40m[1m;
[1m[33m259 [m[37m[40m[1m}[60;36H[1m[36m[46m([m[37m[40m[1m[1m[36m'\0'[m[37m[40m[1m[1m[36m[46m)[m[37m[40m[1m[1m[36m;[m[37m[40m[1m[64;220H[K[64;220H316,37[8C57%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m254 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m255 [m[37m[40m[1m[11C }
[1m[33m256 [m[37m[40m[1m[7C }[63;36H[1m[36m('\0');[m[37m[40m[1m[64;220H[K[64;220H313,37[8C56%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m251 [m[37m[40m[1m[11C }
[1m[33m252 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"PWD"[m[37m[40m[1m, newPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m253 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);[64;220H[K[64;220H310,37[8C56%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m248 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"OLDPWD"[m[37m[40m[1m, oldPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m249 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);
[1m[33m250 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H307,24[8C55%[60;28H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m245 [m[37m[40m[1m[15C perror([1m[35m"chdir"[m[37m[40m[1m);
[1m[33m246 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m247 [m[37m[40m[1m[11C }[64;220H[K[64;220H304,12[8C54%[60;16H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m242 [m[37m[40m[1m[11C }
[1m[33m243 
244 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(chdir(newPwd.c_str()) < [1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H301,34[8C54%[60;38H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m239 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m240 [m[37m[40m[1m[15C }
[1m[33m241 [m[37m[40m[1m[15C newPwd.replace([1m[35m0[m[37m[40m[1m,[1m[35m1[m[37m[40m[1m,home);[60;36H[1m[36m[46m([m[37m[40m[1m[1m[36m'\0'[m[37m[40m[1m[1m[36m[46m)[m[37m[40m[1m[1m[36m;[m[37m[40m[1m[64;220H[K[64;220H298,37[8C53%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m236 [m[37m[40m[1m[15C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m237 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m238 [m[37m[40m[1m[19C perror([1m[35m"getenv"[m[37m[40m[1m);[63;36H[1m[36m('\0');[m[37m[40m[1m[64;220H[K[64;220H295,37[8C52%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m233 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m{
[1m[33m234 [m[37m[40m[1m[11C [1m[36m//Checks for ~[m[37m[40m[1m
[1m[33m235 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(newPwd[[1m[35m0[m[37m[40m[1m] == [1m[35m'~'[m[37m[40m[1m){[64;220H[K[64;220H292,37[8C52%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m230 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(oldPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m231 [m[37m[40m[1m[11C perror([1m[35m"old getenv"[m[37m[40m[1m);
[1m[33m232 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H289,19[8C51%[60;23H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m227 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(newPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m228 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m229 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H286,21[8C50%[60;25H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m224 [m[37m[40m[1m[7C oldPwd = getenv([1m[35m"PWD"[m[37m[40m[1m);
[1m[33m225 [m[37m[40m[1m[7C newPwd = args[[1m[35m1[m[37m[40m[1m];
[1m[33m226 [m[37m[40m[1m[64;220H[K[64;220H283,37[8C50%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m221 [m[37m[40m[1m[7C }
[1m[33m222 [m[37m[40m[1m    [1m[36m//Changes to the path[m[37m[40m[1m
[1m[33m223 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m{[64;220H[K[64;220H280,15[8C49%[60;19H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m218 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);
[1m[33m219 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m220 [m[37m[40m[1m[11C }[64;220H[K[64;220H277,30[8C48%[60;34H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m215 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m216 [m[37m[40m[1m[11C }
[1m[33m217 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"PWD"[m[37m[40m[1m, newPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[58;18H[46m{[60;13H}[m[37m[40m[1m[64;220H[K[64;220H274,9[9C48%[60;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m212 [m[37m[40m[1m[11C }
[1m[33m213 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"OLDPWD"[m[37m[40m[1m, oldPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m214 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);[61;18H{[63;13H}[64;220H[K[64;220H271,22[8C47%[60;26H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m209 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(chdir(newPwd.c_str()) < [1m[35m0[m[37m[40m[1m){
[1m[33m210 [m[37m[40m[1m[15C perror([1m[35m"chdir"[m[37m[40m[1m);
[1m[33m211 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H268,28[8C46%[60;32H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m206 [m[37m[40m[1m[11C perror([1m[35m"old getenv"[m[37m[40m[1m);
[1m[33m207 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m208 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m{[64;220H[K[64;220H265,24[8C46%[60;28H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m203 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m204 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m205 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(oldPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){[64;220H[K[64;220H262,37[8C45%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m200 [m[37m[40m[1m[7C newPwd = getenv([1m[35m"OLDPWD"[m[37m[40m[1m);
[1m[33m201 [m[37m[40m[1m[7C oldPwd = getenv([1m[35m"PWD"[m[37m[40m[1m);
[1m[33m202 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(newPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){[64;220H[K[64;220H259,1[9C44%[60;5H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m197 [m[37m[40m[1m[7C }
[1m[33m198 [m[37m[40m[1m    [1m[36m//Changes to preivous directory[m[37m[40m[1m
[1m[33m199 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(args[[1m[35m1[m[37m[40m[1m] == [1m[35m"-"[m[37m[40m[1m){[37;18H[46m{[60;13H}[m[37m[40m[1m[64;220H[K[64;220H256,9[9C44%[60;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m194 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);
[1m[33m195 [m[37m[40m[1m[14C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m196 [m[37m[40m[1m[11C }[40;18H{[63;13H}[64;220H[K[64;220H253,33[8C43%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m191 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m192 [m[37m[40m[1m[11C }
[1m[33m193 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"PWD"[m[37m[40m[1m, newPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H250,29[8C42%[60;33H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m188 [m[37m[40m[1m[11C }
[1m[33m189 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"OLDPWD"[m[37m[40m[1m, oldPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m190 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);[57;46H[46m{[60;17H}[m[37m[40m[1m[64;220H[K[64;220H247,13[8C42%[60;17H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m185 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(oldPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m186 [m[37m[40m[1m[15C perror([1m[35m"old getenv"[m[37m[40m[1m);
[1m[33m187 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[60;46H{[63;17H}[64;220H[K[64;220H244,37[8C41%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m182 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m183 [m[37m[40m[1m[11C }
[1m[33m184 [m[37m[40m[1m[11C oldPwd = getenv([1m[35m"PWD"[m[37m[40m[1m);[64;220H[K[64;220H241,37[8C40%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m179 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m{
[1m[33m180 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(chdir(newPwd.c_str()) < [1m[35m0[m[37m[40m[1m){
[1m[33m181 [m[37m[40m[1m[15C perror([1m[35m"chdir"[m[37m[40m[1m);[64;220H[K[64;220H238,37[8C40%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m176 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(newPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m177 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m178 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H235,33[8C39%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m173 [m[37m[40m[1m    [1m[36m//Changes current directory to home[m[37m[40m[1m
[1m[33m174 [m[37m[40m[1m    [1m[33mif[m[37m[40m[1m(args.size()==[1m[35m1[m[37m[40m[1m){
[1m[33m175 [m[37m[40m[1m[7C newPwd = getenv([1m[35m"HOME"[m[37m[40m[1m);[64;220H[K[64;220H232,25[8C38%[60;29H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m170 
171 [m[37m[40m[1m[1m[32mbool[m[37m[40m[1m comCD(vector<string> args){
[1m[33m172 [m[37m[40m[1m    string oldPwd, newPwd;[64;220H[K[64;220H229,25[8C38%[60;29H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m167 [m[37m[40m[1m[7C }
[1m[33m168 [m[37m[40m[1m    }
[1m[33m169 [m[37m[40m[1m}[64;220H[K[64;220H226,8[9C37%[60;12H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m164 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m (wpid == -[1m[35m1[m[37m[40m[1m)
[1m[33m165 [m[37m[40m[1m[7C {
[1m[33m166 [m[37m[40m[1m[11C perror([1m[35m"wait error"[m[37m[40m[1m);[64;220H[K[64;220H223,10[8C36%[60;14H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m161 [m[37m[40m[1m[11C wpid = waitpid(pid, &status, WUNTRACED);
[1m[33m162 [m[37m[40m[1m[7C }
[1m[33m163 [m[37m[40m[1m[7C [1m[33mwhile[m[37m[40m[1m (wpid == -[1m[35m1[m[37m[40m[1m && errno == [1m[35mEINTR[m[37m[40m[1m);[57;55H[46m{[60;17H}[m[37m[40m[1m[64;220H[K[64;220H220,13[8C36%[60;17H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m158 [m[37m[40m[1m[7C [1m[32mint[m[37m[40m[1m wpid;
[1m[33m159 [m[37m[40m[1m[7C [1m[33mdo
160 [m[37m[40m[1m[7C {[60;55H{[63;17H}[64;220H[K[64;220H217,37[8C35%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m155 [m[37m[40m[1m[11C exit([1m[35m1[m[37m[40m[1m);
[1m[33m156 [m[37m[40m[1m[7C }
[1m[33m157 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m (pid > [1m[35m0[m[37m[40m[1m) {[1m[36m//Parent[m[37m[40m[1m[64;220H[K[64;220H214,33[8C34%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m152 [m[37m[40m[1m[7C arguments.push_back([1m[31m'\0'[m[37m[40m[1m);
[1m[33m153 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(execvp(arguments[[1m[35m0[m[37m[40m[1m],arguments.data())<[1m[35m0[m[37m[40m[1m){
[1m[33m154 [m[37m[40m[1m[11C perror([1m[35m"Executable"[m[37m[40m[1m);[64;220H[K[64;220H211,29[8C34%[60;33H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m149 [m[37m[40m[1m[7C [1m[33mfor[m[37m[40m[1m([1m[32msize_t[m[37m[40m[1m i = [1m[35m0[m[37m[40m[1m; i < singleArg.size(); ++i){
[1m[33m150 [m[37m[40m[1m[11C arguments.push_back(&singleArg[i][[1m[35m0[m[37m[40m[1m]);
[1m[33m151 [m[37m[40m[1m[7C }[64;220H[K[64;220H208,14[8C33%[60;18H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m146 [m[37m[40m[1m[11C }
[1m[33m147 [m[37m[40m[1m[7C }
[1m[33m148 [m[37m[40m[1m[7C vector<[1m[32mchar[m[37m[40m[1m *> arguments;[60;37H[46m{[63;13H}[m[37m[40m[1m[64;220H[K[64;220H205,33[8C32%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m143 [m[37m[40m[1m[15C }
[1m[33m144 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m145 [m[37m[40m[1m[15C singleArg.push_back(argList[i]);[60;31H[46m{[63;13H}[m[37m[40m[1m[23C{[64;220H[K[64;220H202,27[8C31%[60;31H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m140 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(close(fd0)<[1m[35m0[m[37m[40m[1m){
[1m[33m141 [m[37m[40m[1m[19C perror([1m[35m"close fd1"[m[37m[40m[1m);
[1m[33m142 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);[63;31H{[64;220H[K[64;220H199,29[8C31%[60;33H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m137 [m[37m[40m[1m[19C perror([1m[35m"dup fd1"[m[37m[40m[1m);
[1m[33m138 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m139 [m[37m[40m[1m[15C }[57;55H[46m{[60;17H}[m[37m[40m[1m[64;220H[K[64;220H196,13[8C30%[60;17H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m134 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m135 [m[37m[40m[1m[15C }
[1m[33m136 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(fd0,[1m[35m0[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[60;55H{[63;17H}[64;220H[K[64;220H193,37[8C29%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m131 [m[37m[40m[1m[15C ++i;
[1m[33m132 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m((fd0=open(argList[i].c_str(),O_RDONLY))<[1m[35m0[m[37m[40m[1m){
[1m[33m133 [m[37m[40m[1m[19C perror([1m[35m"open fd1"[m[37m[40m[1m);[64;220H[K[64;220H190,33[8C29%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m128 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m129 [m[37m[40m[1m[15C }
[1m[33m130 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m"<"[m[37m[40m[1m){[64;220H[K[64;220H187,29[8C28%[60;33H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m125 [m[37m[40m[1m[15C }
[1m[33m126 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(close(fd1)<[1m[35m0[m[37m[40m[1m){
[1m[33m127 [m[37m[40m[1m[19C perror([1m[35m"close fd0"[m[37m[40m[1m);[64;220H[K[64;220H184,35[8C27%[60;39H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m122 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(fd1,[1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m123 [m[37m[40m[1m[19C perror([1m[35m"dup fd0"[m[37m[40m[1m);
[1m[33m124 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);[64;220H[K[64;220H181,32[8C27%[60;36H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m119 [m[37m[40m[1m[19C perror([1m[35m"open fd0"[m[37m[40m[1m);
[1m[33m120 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m121 [m[37m[40m[1m[15C }[64;220H[K[64;220H178,25[8C26%[60;29H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m116 [m[37m[40m[1m[15C ++i;
[1m[33m117 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m((fd1=open(argList[i].c_str(),O_WRONLY | O_CREAT | O_APPEND,
[1m[33m118 [m[37m[40m[1m[19C S_IRUSR | S_IWUSR))<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H175,32[8C25%[60;36H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m113 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m114 [m[37m[40m[1m[15C }
[1m[33m115 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m">>"[m[37m[40m[1m){[64;220H[K[64;220H172,26[8C25%[60;30H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m110 [m[37m[40m[1m[15C }
[1m[33m111 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(close(fd1)<[1m[35m0[m[37m[40m[1m){
[1m[33m112 [m[37m[40m[1m[19C perror([1m[35m"close fd0"[m[37m[40m[1m);[64;220H[K[64;220H169,1[9C24%[60;5H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m107 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(fd1,[1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m108 [m[37m[40m[1m[19C perror([1m[35m"dup fd0"[m[37m[40m[1m);
[1m[33m109 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);[64;220H[K[64;220H166,33[8C23%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m104 [m[37m[40m[1m[19C perror([1m[35m"open fd0"[m[37m[40m[1m);
[1m[33m105 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m106 [m[37m[40m[1m[15C }[64;220H[K[64;220H163,37[8C23%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m101 [m[37m[40m[1m[15C ++i;
[1m[33m102 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m((fd1=open(argList[i].c_str(),O_WRONLY | O_CREAT | O_TRUNC,
[1m[33m103 [m[37m[40m[1m[19C S_IRUSR | S_IWUSR))<[1m[35m0[m[37m[40m[1m){[60;13H[46m{[62;13H}[m[37m[40m[1m[64;220H[K[64;220H160,9[9C22%[60;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 98 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m (pid == [1m[35m0[m[37m[40m[1m){
[1m[33m 99 [m[37m[40m[1m[7C [1m[33mfor[m[37m[40m[1m([1m[32munsigned[m[37m[40m[1m [1m[32mint[m[37m[40m[1m i = [1m[35m0[m[37m[40m[1m; i<argList.size();++i){
[1m[33m100 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m">"[m[37m[40m[1m){[63;13H{[64;220H[K[64;220H157,32[8C21%[60;36H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 95 [m[37m[40m[1m    [1m[33mif[m[37m[40m[1m(pid < [1m[35m0[m[37m[40m[1m){
[1m[33m 96 [m[37m[40m[1m[7C perror([1m[35m"Forking Error"[m[37m[40m[1m);
[1m[33m 97 [m[37m[40m[1m[7C exit([1m[35m1[m[37m[40m[1m);[64;220H[K[64;220H154,33[8C21%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 92 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m fd0,fd1,status;
[1m[33m 93 [m[37m[40m[1m    [1m[36m//Where the string get's parsed [m[37m[40m[1m
[1m[33m 94 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m pid = fork();[58;57H[46m{[60;13H}[m[37m[40m[1m[64;220H[K[64;220H151,9[9C20%[60;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 89 [m[37m[40m[1m[1m[36m//============Management for the single part of args===============[m[37m[40m[1m
[1m[33m 90 [m[37m[40m[1m[1m[32mvoid[m[37m[40m[1m singleCommand(vector<string> argList){
[1m[33m 91 [m[37m[40m[1m    vector<string> singleArg;[61;57H{[63;13H}[64;220H[K[64;220H148,33[8C19%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 86 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35mtrue[m[37m[40m[1m;
[1m[33m 87 [m[37m[40m[1m}
[1m[33m 88 [m[37m[40m[1m[64;220H[K[64;220H145,37[8C19%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 83 [m[37m[40m[1m    [1m[36m//==============Input Redirection============[m[37m[40m[1m
[1m[33m 84 [m[37m[40m[1m[7C [1m[36m//cout << argList[i] << endl;[m[37m[40m[1m
[1m[33m 85 [m[37m[40m[1m    }[64;220H[K[64;220H142,28[8C18%[60;32H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 80 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m 81 [m[37m[40m[1m[11C }
[1m[33m 82 [m[37m[40m[1m[7C }[57;38H[46m{[60;21H}[m[37m[40m[1m[64;220H[K[64;220H139,17[8C17%[60;21H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 77 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m"|"[m[37m[40m[1m){
[1m[33m 78 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i+[1m[35m1[m[37m[40m[1m>=argList.size()){
[1m[33m 79 [m[37m[40m[1m[15C cout<< [1m[35m"|: expect input file"[m[37m[40m[1m << endl;[64;220H[K[64;220H136,34[8C17%[60;38H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 74 [m[37m[40m[1m[15C cout<< [1m[35m"<: expect input file"[m[37m[40m[1m << endl;
[1m[33m 75 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m 76 [m[37m[40m[1m[11C }[63;38H{[64;220H[K[64;220H133,37[8C16%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 71 [m[37m[40m[1m[11C }
[1m[33m 72 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m"<"[m[37m[40m[1m){
[1m[33m 73 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i+[1m[35m1[m[37m[40m[1m>=argList.size()){[64;220H[K[64;220H130,37[8C15%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 68 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i+[1m[35m1[m[37m[40m[1m>=argList.size()){
[1m[33m 69 [m[37m[40m[1m[15C cout<< [1m[35m">: expect output file"[m[37m[40m[1m << endl;
[1m[33m 70 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H127,37[8C15%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 65 [m[37m[40m[1m[15C }
[1m[33m 66 [m[37m[40m[1m[11C }
[1m[33m 67 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m">>"[m[37m[40m[1m){[64;220H[K[64;220H124,28[8C14%[60;32H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 62 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(i+[1m[35m2[m[37m[40m[1m>=argList.size()){
[1m[33m 63 [m[37m[40m[1m[19C cout<< [1m[35m">>: expect output file"[m[37m[40m[1m<<endl;
[1m[33m 64 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[57;47H[46m{[60;21H}[m[37m[40m[1m[64;220H[K[64;220H121,17[8C13%[60;21H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 59 [m[37m[40m[1m[15C cout<< [1m[35m">: expect output file"[m[37m[40m[1m << endl;
[1m[33m 60 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m 61 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i+[1m[35m1[m[37m[40m[1m]==[1m[35m">"[m[37m[40m[1m){[60;47H{[63;21H}[64;220H[K[64;220H118,37[8C13%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 56 [m[37m[40m[1m    [1m[36m//==========Output redirection================[m[37m[40m[1m
[1m[33m 57 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m">"[m[37m[40m[1m){
[1m[33m 58 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i+[1m[35m1[m[37m[40m[1m>=argList.size()){[64;220H[K[64;220H115,37[8C12%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 53 [m[37m[40m[1m[1m[32mbool[m[37m[40m[1m concatArg(vector<string> &argList){
[1m[33m 54 [m[37m[40m[1m    [1m[36m//cout << argList.size() << endl;[m[37m[40m[1m
[1m[33m 55 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m([1m[32munsigned[m[37m[40m[1m [1m[32mint[m[37m[40m[1m i = [1m[35m0[m[37m[40m[1m; i<argList.size();++i){[64;220H[K[64;220H112,37[8C11%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 50 
 51 [m[37m[40m[1m[1m[36m//Returns the position of operators and fixes arguments[m[37m[40m[1m
[1m[33m 52 [m[37m[40m[1m[1m[36m//Also Checks if all the inputs are correct[m[37m[40m[1m[64;220H[K[64;220H109,28[8C11%[60;32H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 47 [m[37m[40m[1m    }
[1m[33m 48 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m status;
[1m[33m 49 [m[37m[40m[1m}[57;47H[46m{[60;21H}[m[37m[40m[1m[64;220H[K[64;220H106,17[8C10%[60;21H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 44 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m (pid > [1m[35m0[m[37m[40m[1m) {[1m[36m//Parent[m[37m[40m[1m
[1m[33m 45 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(waitpid(pid, &status, [1m[35m0[m[37m[40m[1m) == -[1m[35m1[m[37m[40m[1m && errno == [1m[35mEINTR[m[37m[40m[1m)
[1m[33m 46 [m[37m[40m[1m[11C perror([1m[35m"Wait Error"[m[37m[40m[1m);[60;47H{[63;21H}[64;220H[K[64;220H103,37[9C9%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 41 [m[37m[40m[1m[11C perror([1m[35m"Executable or arg Error"[m[37m[40m[1m);
[1m[33m 42 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m 43 [m[37m[40m[1m[7C }[64;220H[K[64;220H100,34[9C9%[60;38H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 38 [m[37m[40m[1m[7C exit([1m[35m1[m[37m[40m[1m);
[1m[33m 39 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m (pid == [1m[35m0[m[37m[40m[1m){ [1m[36m//Child[m[37m[40m[1m
[1m[33m 40 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(execvp(arguments[[1m[35m0[m[37m[40m[1m],arguments.data())<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H97,16[10C8%[60;20H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 35 
 36 [m[37m[40m[1m    [1m[33mif[m[37m[40m[1m(pid < [1m[35m0[m[37m[40m[1m){
[1m[33m 37 [m[37m[40m[1m[7C perror([1m[35m"Forking Error"[m[37m[40m[1m);[64;220H[K[64;220H94,21[10C7%[60;25H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 32 [m[37m[40m[1m    }
[1m[33m 33 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m status;
[1m[33m 34 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m pid = fork();[64;220H[K[64;220H91,29[10C6%[60;33H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 29 [m[37m[40m[1m    vector<[1m[32mchar[m[37m[40m[1m *> arguments(argList.size() +[1m[35m1[m[37m[40m[1m);
[1m[33m 30 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m([1m[32msize_t[m[37m[40m[1m i = [1m[35m0[m[37m[40m[1m; i < argList.size(); ++i){
[1m[33m 31 [m[37m[40m[1m[7C arguments[i] = &argList[i][[1m[35m0[m[37m[40m[1m];[64;220H[K[64;220H88,0-1[9C6%[60;5H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 26 
 27 [m[37m[40m[1m[1m[36m//Executes one argument and return the status of that run[m[37m[40m[1m
[1m[33m 28 [m[37m[40m[1m[1m[32mbool[m[37m[40m[1m runArg(vector<string> argList){[30;54H[46m{[60;9H}[m[37m[40m[1m[64;220H[K[64;220H85,5[11C5%[60;9H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 23 [m[37m[40m[1m[7C cout << endl;
[1m[33m 24 [m[37m[40m[1m    }
[1m[33m 25 [m[37m[40m[1m}[33;54H{[55;40H[46m{[60;13H}[m[37m[40m[1m[63;9H}[64;220H[K[64;220H82,9[11C4%[60;13H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 20 
 21 [m[37m[40m[1m[1m[32mvoid[m[37m[40m[1m sigHandler([1m[32mint[m[37m[40m[1m sig){
[1m[33m 22 [m[37m[40m[1m    [1m[33mif[m[37m[40m[1m(sig == [1m[35mSIGINT[m[37m[40m[1m){[58;40H{[63;13H}[64;220H[K[64;220H79,37[10C4%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 17 using[m[37m[40m[1m [1m[32mnamespace[m[37m[40m[1m std;
[1m[33m 18 using[m[37m[40m[1m [1m[32mnamespace[m[37m[40m[1m boost;
[1m[33m 19 [m[37m[40m[1m[1m[32mtypedef[m[37m[40m[1m tokenizer<char_separator<[1m[32mchar[m[37m[40m[1m> > mytok;[57;40H[46m{[60;17H}[m[37m[40m[1m[64;220H[K[64;220H76,13[10C3%[60;17H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 14 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<unistd.h>[m[37m[40m[1m
[1m[33m 15 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<vector>[m[37m[40m[1m
[1m[33m 16 [m[37m[40m[1m[64;220H[K[64;220H73,36[10C2%[60;40H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m 11 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<sys/types.h>[m[37m[40m[1m
[1m[33m 12 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<sys/stat.h>[m[37m[40m[1m
[1m[33m 13 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<sys/wait.h>[m[37m[40m[1m[63;40H{[64;220H[K[64;220H70,29[10C2%[60;33H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m  8 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<stdlib.h>[m[37m[40m[1m
[1m[33m  9 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<stdio.h>[m[37m[40m[1m
[1m[33m 10 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<string.h>[m[37m[40m[1m[64;220H[K[64;220H67,37[10C1%[60;41H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m  5 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<fcntl.h>[m[37m[40m[1m
[1m[33m  6 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<iostream>[m[37m[40m[1m
[1m[33m  7 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<signal.h>[m[37m[40m[1m[64;220H[K[64;220H64,33[10C0%[60;37H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m  2 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<boost/tokenizer.hpp>[m[37m[40m[1m
[1m[33m  3 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<cstring>[m[37m[40m[1m
[1m[33m  4 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<errno.h>[m[37m[40m[1m[64;220H[K[64;220H61,37[10C0%[60;41H[1;63r[1;1H[L[1;64r[1;1H[1m[33m  1 [m[37m[40m[1m[1m[34m#include [m[37m[40m[1m[1m[35m<algorithm>[m[37m[40m[1m[64;220H[K[64;220H60,29[9CTop[60;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 64 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m 65 [m[37m[40m[1m[15C }
[1m[33m 66 [m[37m[40m[1m[11C }[64;220H[K[64;220H60,29[10C0%[57;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 67 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m">>"[m[37m[40m[1m){
[1m[33m 68 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i+[1m[35m1[m[37m[40m[1m>=argList.size()){
[1m[33m 69 [m[37m[40m[1m[15C cout<< [1m[35m">: expect output file"[m[37m[40m[1m << endl;[64;220H[K[64;220H60,29[10C1%[54;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 70 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m 71 [m[37m[40m[1m[11C }
[1m[33m 72 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m"<"[m[37m[40m[1m){[64;220H[K[64;220H60,29[10C2%[51;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 73 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i+[1m[35m1[m[37m[40m[1m>=argList.size()){
[1m[33m 74 [m[37m[40m[1m[15C cout<< [1m[35m"<: expect input file"[m[37m[40m[1m << endl;
[1m[33m 75 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H60,29[10C2%[48;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 76 [m[37m[40m[1m[11C }
[1m[33m 77 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m"|"[m[37m[40m[1m){
[1m[33m 78 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i+[1m[35m1[m[37m[40m[1m>=argList.size()){[64;220H[K[64;220H60,29[10C3%[45;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 79 [m[37m[40m[1m[15C cout<< [1m[35m"|: expect input file"[m[37m[40m[1m << endl;
[1m[33m 80 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m 81 [m[37m[40m[1m[11C }[64;220H[K[64;220H60,29[10C4%[42;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 82 [m[37m[40m[1m[7C }
[1m[33m 83 [m[37m[40m[1m    [1m[36m//==============Input Redirection============[m[37m[40m[1m
[1m[33m 84 [m[37m[40m[1m[7C [1m[36m//cout << argList[i] << endl;[m[37m[40m[1m[64;220H[K[64;220H60,29[10C4%[39;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 85 [m[37m[40m[1m    }
[1m[33m 86 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35mtrue[m[37m[40m[1m;
[1m[33m 87 [m[37m[40m[1m}[64;220H[K[64;220H60,29[10C5%[36;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 88 
 89 [m[37m[40m[1m[1m[36m//============Management for the single part of args===============[m[37m[40m[1m
[1m[33m 90 [m[37m[40m[1m[1m[32mvoid[m[37m[40m[1m singleCommand(vector<string> argList){[64;220H[K[64;220H60,29[10C6%[33;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 91 [m[37m[40m[1m    vector<string> singleArg;
[1m[33m 92 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m fd0,fd1,status;
[1m[33m 93 [m[37m[40m[1m    [1m[36m//Where the string get's parsed [m[37m[40m[1m[64;220H[K[64;220H60,29[10C6%[30;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 94 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m pid = fork();
[1m[33m 95 [m[37m[40m[1m    [1m[33mif[m[37m[40m[1m(pid < [1m[35m0[m[37m[40m[1m){
[1m[33m 96 [m[37m[40m[1m[7C perror([1m[35m"Forking Error"[m[37m[40m[1m);[64;220H[K[64;220H60,29[10C7%[27;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m 97 [m[37m[40m[1m[7C exit([1m[35m1[m[37m[40m[1m);
[1m[33m 98 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m (pid == [1m[35m0[m[37m[40m[1m){
[1m[33m 99 [m[37m[40m[1m[7C [1m[33mfor[m[37m[40m[1m([1m[32munsigned[m[37m[40m[1m [1m[32mint[m[37m[40m[1m i = [1m[35m0[m[37m[40m[1m; i<argList.size();++i){[64;220H[K[64;220H60,29[10C8%[24;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m100 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m">"[m[37m[40m[1m){
[1m[33m101 [m[37m[40m[1m[15C ++i;
[1m[33m102 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m((fd1=open(argList[i].c_str(),O_WRONLY | O_CREAT | O_TRUNC,[64;220H[K[64;220H60,29[10C8%[21;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m103 [m[37m[40m[1m[19C S_IRUSR | S_IWUSR))<[1m[35m0[m[37m[40m[1m){
[1m[33m104 [m[37m[40m[1m[19C perror([1m[35m"open fd0"[m[37m[40m[1m);
[1m[33m105 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);[64;220H[K[64;220H60,29[10C9%[18;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m106 [m[37m[40m[1m[15C }
[1m[33m107 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(fd1,[1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m108 [m[37m[40m[1m[19C perror([1m[35m"dup fd0"[m[37m[40m[1m);[64;220H[K[64;220H60,29[9C10%[15;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m109 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m110 [m[37m[40m[1m[15C }
[1m[33m111 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(close(fd1)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H60,29[9C10%[12;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m112 [m[37m[40m[1m[19C perror([1m[35m"close fd0"[m[37m[40m[1m);
[1m[33m113 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m114 [m[37m[40m[1m[15C }[64;220H[K[64;220H60,29[9C11%[9;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m115 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m">>"[m[37m[40m[1m){
[1m[33m116 [m[37m[40m[1m[15C ++i;
[1m[33m117 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m((fd1=open(argList[i].c_str(),O_WRONLY | O_CREAT | O_APPEND,[64;220H[K[64;220H60,29[9C12%[6;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m118 [m[37m[40m[1m[19C S_IRUSR | S_IWUSR))<[1m[35m0[m[37m[40m[1m){
[1m[33m119 [m[37m[40m[1m[19C perror([1m[35m"open fd0"[m[37m[40m[1m);
[1m[33m120 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);[64;220H[K[64;220H61,37[9C12%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m121 [m[37m[40m[1m[15C }
[1m[33m122 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(fd1,[1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m123 [m[37m[40m[1m[19C perror([1m[35m"dup fd0"[m[37m[40m[1m);[64;220H[K[64;220H64,33[9C13%[4;37H[1;63r[1;1H[3M[1;64r[4;41H[46m{[9;13H}[m[37m[40m[1m[61;1H[1m[33m124 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m125 [m[37m[40m[1m[15C }
[1m[33m126 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(close(fd1)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H67,37[9C14%[4;41H[1;63r[1;1H[3M[1;64r[1;41H{[6;13H}[61;1H[1m[33m127 [m[37m[40m[1m[19C perror([1m[35m"close fd0"[m[37m[40m[1m);
[1m[33m128 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m129 [m[37m[40m[1m[15C }[64;220H[K[64;220H70,29[9C14%[4;33H[1;63r[1;1H[3M[1;64r[4;40H[46m{[7;17H}[m[37m[40m[1m[61;1H[1m[33m130 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(argList[i] == [1m[35m"<"[m[37m[40m[1m){
[1m[33m131 [m[37m[40m[1m[15C ++i;
[1m[33m132 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m((fd0=open(argList[i].c_str(),O_RDONLY))<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H73,36[9C15%[4;40H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m133 [m[37m[40m[1m[19C perror([1m[35m"open fd1"[m[37m[40m[1m);
[1m[33m134 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m135 [m[37m[40m[1m[15C }[64;220H[K[64;220H76,13[9C16%[4;17H[1;63r[1;1H[3M[1;64r[1;17H}[61;1H[1m[33m136 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(fd0,[1m[35m0[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m137 [m[37m[40m[1m[19C perror([1m[35m"dup fd1"[m[37m[40m[1m);
[1m[33m138 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);[64;220H[K[64;220H79,37[9C16%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m139 [m[37m[40m[1m[15C }
[1m[33m140 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(close(fd0)<[1m[35m0[m[37m[40m[1m){
[1m[33m141 [m[37m[40m[1m[19C perror([1m[35m"close fd1"[m[37m[40m[1m);[64;220H[K[64;220H82,9[10C17%[4;13H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m142 [m[37m[40m[1m[19C exit([1m[35m1[m[37m[40m[1m);
[1m[33m143 [m[37m[40m[1m[15C }
[1m[33m144 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{[64;220H[K[64;220H85,5[10C18%[4;9H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m145 [m[37m[40m[1m[15C singleArg.push_back(argList[i]);
[1m[33m146 [m[37m[40m[1m[11C }
[1m[33m147 [m[37m[40m[1m[7C }[64;220H[K[64;220H88,0-1[8C18%[4;5H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m148 [m[37m[40m[1m[7C vector<[1m[32mchar[m[37m[40m[1m *> arguments;
[1m[33m149 [m[37m[40m[1m[7C [1m[33mfor[m[37m[40m[1m([1m[32msize_t[m[37m[40m[1m i = [1m[35m0[m[37m[40m[1m; i < singleArg.size(); ++i){
[1m[33m150 [m[37m[40m[1m[11C arguments.push_back(&singleArg[i][[1m[35m0[m[37m[40m[1m]);[64;220H[K[64;220H91,29[9C19%[4;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m151 [m[37m[40m[1m[7C }
[1m[33m152 [m[37m[40m[1m[7C arguments.push_back([1m[31m'\0'[m[37m[40m[1m);
[1m[33m153 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(execvp(arguments[[1m[35m0[m[37m[40m[1m],arguments.data())<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H94,21[9C20%[4;25H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m154 [m[37m[40m[1m[11C perror([1m[35m"Executable"[m[37m[40m[1m);
[1m[33m155 [m[37m[40m[1m[11C exit([1m[35m1[m[37m[40m[1m);
[1m[33m156 [m[37m[40m[1m[7C }[64;220H[K[64;220H97,16[9C20%[4;20H[1;63r[1;1H[3M[1;64r[4;38H[46m{[19;17H}[m[37m[40m[1m[61;1H[1m[33m157 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m (pid > [1m[35m0[m[37m[40m[1m) {[1m[36m//Parent[m[37m[40m[1m
[1m[33m158 [m[37m[40m[1m[7C [1m[32mint[m[37m[40m[1m wpid;
[1m[33m159 [m[37m[40m[1m[7C [1m[33mdo[m[37m[40m[1m[64;220H[K[64;220H100,34[8C21%[4;38H[1;63r[1;1H[3M[1;64r[1;38H{[16;17H}[61;1H[1m[33m160 [m[37m[40m[1m[7C {
[1m[33m161 [m[37m[40m[1m[11C wpid = waitpid(pid, &status, WUNTRACED);
[1m[33m162 [m[37m[40m[1m[7C }[64;220H[K[64;220H103,37[8C22%[4;41H[1;63r[1;1H[3M[1;64r[1;47H[46m{[4;21H}[m[37m[40m[1m[61;1H[1m[33m163 [m[37m[40m[1m[7C [1m[33mwhile[m[37m[40m[1m (wpid == -[1m[35m1[m[37m[40m[1m && errno == [1m[35mEINTR[m[37m[40m[1m);
[1m[33m164 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m (wpid == -[1m[35m1[m[37m[40m[1m)
[1m[33m165 [m[37m[40m[1m[7C {[64;220H[K[64;220H106,17[8C22%[4;21H[1;63r[1;1H[3M[1;64r[1;21H}[61;1H[1m[33m166 [m[37m[40m[1m[11C perror([1m[35m"wait error"[m[37m[40m[1m);
[1m[33m167 [m[37m[40m[1m[7C }
[1m[33m168 [m[37m[40m[1m    }[64;220H[K[64;220H109,28[8C23%[4;32H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m169 [m[37m[40m[1m}
[1m[33m170 
171 [m[37m[40m[1m[1m[32mbool[m[37m[40m[1m comCD(vector<string> args){[64;220H[K[64;220H112,37[8C24%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m172 [m[37m[40m[1m    string oldPwd, newPwd;
[1m[33m173 [m[37m[40m[1m    [1m[36m//Changes current directory to home[m[37m[40m[1m
[1m[33m174 [m[37m[40m[1m    [1m[33mif[m[37m[40m[1m(args.size()==[1m[35m1[m[37m[40m[1m){[64;220H[K[64;220H115,37[8C25%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m175 [m[37m[40m[1m[7C newPwd = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m176 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(newPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m177 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);[64;220H[K[64;220H118,37[8C25%[4;41H[1;63r[1;1H[3M[1;64r[1;47H[46m{[4;21H}[m[37m[40m[1m[61;1H[1m[33m178 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m179 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m{
[1m[33m180 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(chdir(newPwd.c_str()) < [1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H121,17[8C26%[4;21H[1;63r[1;1H[3M[1;64r[1;21H}[61;1H[1m[33m181 [m[37m[40m[1m[15C perror([1m[35m"chdir"[m[37m[40m[1m);
[1m[33m182 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m183 [m[37m[40m[1m[11C }[64;220H[K[64;220H124,28[8C27%[4;32H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m184 [m[37m[40m[1m[11C oldPwd = getenv([1m[35m"PWD"[m[37m[40m[1m);
[1m[33m185 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(oldPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m186 [m[37m[40m[1m[15C perror([1m[35m"old getenv"[m[37m[40m[1m);[64;220H[K[64;220H127,37[8C27%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m187 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m188 [m[37m[40m[1m[11C }
[1m[33m189 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"OLDPWD"[m[37m[40m[1m, oldPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H130,37[8C28%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m190 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);
[1m[33m191 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m192 [m[37m[40m[1m[11C }[64;220H[K[64;220H133,37[8C29%[4;41H[1;63r[1;1H[3M[1;64r[4;38H[46m{[7;21H}[m[37m[40m[1m[61;1H[1m[33m193 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"PWD"[m[37m[40m[1m, newPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m194 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);
[1m[33m195 [m[37m[40m[1m[14C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H136,34[8C29%[4;38H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m196 [m[37m[40m[1m[11C }
[1m[33m197 [m[37m[40m[1m[7C }
[1m[33m198 [m[37m[40m[1m    [1m[36m//Changes to preivous directory[m[37m[40m[1m[64;220H[K[64;220H139,17[8C30%[4;21H[1;63r[1;1H[3M[1;64r[1;21H}[61;1H[1m[33m199 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(args[[1m[35m1[m[37m[40m[1m] == [1m[35m"-"[m[37m[40m[1m){
[1m[33m200 [m[37m[40m[1m[7C newPwd = getenv([1m[35m"OLDPWD"[m[37m[40m[1m);
[1m[33m201 [m[37m[40m[1m[7C oldPwd = getenv([1m[35m"PWD"[m[37m[40m[1m);[64;220H[K[64;220H142,28[8C31%[4;32H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m202 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(newPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m203 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m204 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H145,37[8C31%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m205 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(oldPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m206 [m[37m[40m[1m[11C perror([1m[35m"old getenv"[m[37m[40m[1m);
[1m[33m207 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H148,33[8C32%[4;37H[1;63r[1;1H[3M[1;64r[2;57H[46m{[4;13H}[m[37m[40m[1m[61;1H[1m[33m208 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m{
[1m[33m209 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(chdir(newPwd.c_str()) < [1m[35m0[m[37m[40m[1m){
[1m[33m210 [m[37m[40m[1m[15C perror([1m[35m"chdir"[m[37m[40m[1m);[64;220H[K[64;220H151,9[9C33%[4;13H[1;63r[1;1H[3M[1;64r[1;13H}[61;1H[1m[33m211 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m212 [m[37m[40m[1m[11C }
[1m[33m213 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"OLDPWD"[m[37m[40m[1m, oldPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H154,33[8C33%[4;37H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m214 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);
[1m[33m215 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m216 [m[37m[40m[1m[11C }[64;220H[K[64;220H157,32[8C34%[4;36H[1;63r[1;1H[3M[1;64r[4;13H[46m{[6;13H}[m[37m[40m[1m[61;1H[1m[33m217 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"PWD"[m[37m[40m[1m, newPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m218 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);
[1m[33m219 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H160,9[9C35%[4;13H[1;63r[1;1H[3M[1;64r[1;13H{[3;13H}[61;1H[1m[33m220 [m[37m[40m[1m[11C }
[1m[33m221 [m[37m[40m[1m[7C }
[1m[33m222 [m[37m[40m[1m    [1m[36m//Changes to the path[m[37m[40m[1m[64;220H[K[64;220H163,37[8C35%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m223 [m[37m[40m[1m    }[1m[33melse[m[37m[40m[1m{
[1m[33m224 [m[37m[40m[1m[7C oldPwd = getenv([1m[35m"PWD"[m[37m[40m[1m);
[1m[33m225 [m[37m[40m[1m[7C newPwd = args[[1m[35m1[m[37m[40m[1m];[64;220H[K[64;220H166,33[8C36%[4;37H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m226 
227 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(newPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m228 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);[64;220H[K[64;220H169,1[9C37%[4;5H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m229 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m230 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(oldPwd == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m231 [m[37m[40m[1m[11C perror([1m[35m"old getenv"[m[37m[40m[1m);[64;220H[K[64;220H172,26[8C37%[4;30H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m232 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m233 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m{
[1m[33m234 [m[37m[40m[1m[11C [1m[36m//Checks for ~[m[37m[40m[1m[64;220H[K[64;220H175,32[8C38%[4;36H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m235 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(newPwd[[1m[35m0[m[37m[40m[1m] == [1m[35m'~'[m[37m[40m[1m){
[1m[33m236 [m[37m[40m[1m[15C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m237 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){[64;220H[K[64;220H178,25[8C39%[4;29H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m238 [m[37m[40m[1m[19C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m239 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m240 [m[37m[40m[1m[15C }[64;220H[K[64;220H181,32[8C39%[4;36H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m241 [m[37m[40m[1m[15C newPwd.replace([1m[35m0[m[37m[40m[1m,[1m[35m1[m[37m[40m[1m,home);
[1m[33m242 [m[37m[40m[1m[11C }
[1m[33m243 [m[37m[40m[1m[64;220H[K[64;220H184,35[8C40%[4;39H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m244 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(chdir(newPwd.c_str()) < [1m[35m0[m[37m[40m[1m){
[1m[33m245 [m[37m[40m[1m[15C perror([1m[35m"chdir"[m[37m[40m[1m);
[1m[33m246 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;[64;220H[K[64;220H187,29[8C41%[4;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m247 [m[37m[40m[1m[11C }
[1m[33m248 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"OLDPWD"[m[37m[40m[1m, oldPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m249 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);[64;220H[K[64;220H190,33[8C41%[4;37H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m250 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m251 [m[37m[40m[1m[11C }
[1m[33m252 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(setenv([1m[35m"PWD"[m[37m[40m[1m, newPwd.c_str(), [1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H193,37[8C42%[4;41H[1;63r[1;1H[3M[1;64r[1;55H[46m{[4;17H}[m[37m[40m[1m[61;1H[1m[33m253 [m[37m[40m[1m[15C perror([1m[35m"setenv"[m[37m[40m[1m);
[1m[33m254 [m[37m[40m[1m[15C [1m[33mreturn[m[37m[40m[1m [1m[35mfalse[m[37m[40m[1m;
[1m[33m255 [m[37m[40m[1m[11C }[64;220H[K[64;220H196,13[8C43%[4;17H[1;63r[1;1H[3M[1;64r[1;17H}[4;33H[46m{[28;9H}[m[37m[40m[1m[61;1H[1m[33m256 [m[37m[40m[1m[7C }
[1m[33m257 [m[37m[40m[1m    }
[1m[33m258 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35mtrue[m[37m[40m[1m;[64;220H[K[64;220H199,29[8C43%[4;33H[1;63r[1;1H[3M[1;64r[1;33H{[4;31H[46m{[7;13H}[m[37m[40m[1m[25;9H}[61;1H[1m[33m259 [m[37m[40m[1m}
[1m[33m260 
261 [m[37m[40m[1m[1m[36m//============Main management for the arguments===============[m[37m[40m[1m[64;220H[K[64;220H202,27[8C44%[4;31H[1;63r[1;1H[3M[1;64r[1;31H{[4;13H}[23C[46m{[7;13H}[m[37m[40m[1m[61;1H[1m[33m262 [m[37m[40m[1m[1m[36m//+++++++++++++++++++++++++=BROKEN++++++++++++++++++++++++++++++[m[37m[40m[1m
[1m[33m263 [m[37m[40m[1m[1m[32mvoid[m[37m[40m[1m allCommand(vector<string> argList){
[1m[33m264 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m pipeNum = [1m[35m0[m[37m[40m[1m, status;[64;220H[K[64;220H205,33[8C45%[4;37H[1;63r[1;1H[3M[1;64r[1;37H{[4;13H}[4C[46m{[17;13H}[m[37m[40m[1m[61;1H[1m[33m265 [m[37m[40m[1m    vector<string> args;
[1m[33m266 [m[37m[40m[1m    vector<vector<string> > commands;
[1m[33m267 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m([1m[32munsigned[m[37m[40m[1m [1m[32mint[m[37m[40m[1m i = [1m[35m0[m[37m[40m[1m; i<argList.size();++i){[64;220H[K[64;220H208,14[8C45%[4;18H[1;63r[1;1H[3M[1;64r[1;18H{[14;13H}[61;1H[1m[33m268 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(argList[i]==[1m[35m"|"[m[37m[40m[1m){
[1m[33m269 [m[37m[40m[1m[11C commands.push_back(args);
[1m[33m270 [m[37m[40m[1m[11C args.clear();[64;220H[K[64;220H211,29[8C46%[4;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m271 [m[37m[40m[1m[11C pipeNum++;
[1m[33m272 [m[37m[40m[1m[7C }[1m[33melse[m[37m[40m[1m{
[1m[33m273 [m[37m[40m[1m[11C args.push_back(argList[i]);[64;220H[K[64;220H214,33[8C47%[4;37H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m274 [m[37m[40m[1m[7C }
[1m[33m275 [m[37m[40m[1m    }
[1m[33m276 [m[37m[40m[1m    commands.push_back(args);[64;220H[K[64;220H217,37[8C47%[4;41H[1;63r[1;1H[3M[1;64r[1;55H[46m{[4;17H}[m[37m[40m[1m[61;1H[1m[33m277 [m[37m[40m[1m    [1m[36m//For if there is no pipes[m[37m[40m[1m
[1m[33m278 [m[37m[40m[1m    [1m[33mif[m[37m[40m[1m(pipeNum == [1m[35m0[m[37m[40m[1m){
[1m[33m279 [m[37m[40m[1m[7C singleCommand(argList);[64;220H[K[64;220H220,13[8C48%[4;17H[1;63r[1;1H[3M[1;64r[1;17H}[4;14H[46m{[38;9H}[m[37m[40m[1m[61;1H[1m[33m280 [m[37m[40m[1m[7C [1m[33mreturn[m[37m[40m[1m;
[1m[33m281 [m[37m[40m[1m    }
[1m[33m282 [m[37m[40m[1m[64;220H[K[64;220H223,10[8C49%[4;14H[1;63r[1;1H[3M[1;64r[1;14H{[35;9H}[61;1H[1m[33m283 [m[37m[40m[1m[1m[36m//========================PIPES============================[m[37m[40m[1m
[1m[33m284 [m[37m[40m[1m    [1m[36m/*int pipefd[2];[m[37m[40m[1m
[1m[33m285 [m[37m[40m[1m[1m[36m    pid_t pid;[m[37m[40m[1m[64;220H[K[64;220H226,8[9C50%[4;12H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m286 [m[37m[40m[1m[1m[36m    if(pipeNum == 1){[m[37m[40m[1m
[1m[33m287 [m[37m[40m[1m[1m[36m        if (pipe(pipefd) == -1) {[m[37m[40m[1m
[1m[33m288 [m[37m[40m[1m[1m[36m            perror("pipe");[m[37m[40m[1m[64;220H[K[64;220H229,25[8C50%[4;29H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m289 [m[37m[40m[1m[1m[36m            return;[m[37m[40m[1m
[1m[33m290 [m[37m[40m[1m[1m[36m        }[m[37m[40m[1m
[1m[33m291 [m[37m[40m[1m[1m[36m        pid = fork();[m[37m[40m[1m[64;220H[K[64;220H232,25[8C51%[4;29H[1;63r[1;1H[3M[1;64r[4;37H[46m{[11;17H}[m[37m[40m[1m[61;1H[1m[33m292 [m[37m[40m[1m[1m[36m        if (pid == 0) { //Child Runs the first Function[m[37m[40m[1m
[1m[33m293 [m[37m[40m[1m[1m[36m            close(pipefd[1]); //Close outfile end[m[37m[40m[1m
[1m[33m294 [m[37m[40m[1m[1m[36m            vector<char *> arguments;[m[37m[40m[1m[64;220H[K[64;220H235,33[8C52%[4;37H[1;63r[1;1H[3M[1;64r[1;37H{[8;17H}[61;1H[1m[33m295 [m[37m[40m[1m[1m[36m            for(size_t i = 0; i < commands[1].size(); ++i){[m[37m[40m[1m
[1m[33m296 [m[37m[40m[1m[1m[36m                arguments.push_back(&commands[1][i][0]);[m[37m[40m[1m
[1m[33m297 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m[64;220H[K[64;220H238,37[8C52%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m298 [m[37m[40m[1m[1m[36m            arguments.push_back('\0');[m[37m[40m[1m
[1m[33m299 [m[37m[40m[1m[1m[36m            [m[37m[40m[1m
[1m[33m300 [m[37m[40m[1m[1m[36m            if(dup2(pipefd[0],0)<0){[m[37m[40m[1m[64;220H[K[64;220H241,37[8C53%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m301 [m[37m[40m[1m[1m[36m                perror("dup fd0");[m[37m[40m[1m
[1m[33m302 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m
[1m[33m303 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m[64;220H[K[64;220H244,37[8C54%[4;41H[1;63r[1;1H[3M[1;64r[1;46H[46m{[4;17H}[m[37m[40m[1m[61;1H[1m[33m304 [m[37m[40m[1m[1m[36m            [m[37m[40m[1m
[1m[33m305 [m[37m[40m[1m[1m[36m            if(execvp(arguments[0],arguments.data())<0){[m[37m[40m[1m
[1m[33m306 [m[37m[40m[1m[1m[36m                perror("Executable Child");[m[37m[40m[1m[64;220H[K[64;220H247,13[8C54%[4;17H[1;63r[1;1H[3M[1;64r[1;17H}[61;1H[1m[33m307 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m
[1m[33m308 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m309 [m[37m[40m[1m[1m[36m            close(pipefd[0]); //Close infile[m[37m[40m[1m[64;220H[K[64;220H250,29[8C55%[4;33H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m310 [m[37m[40m[1m[1m[36m        }else{ //Parent runs the other function[m[37m[40m[1m
[1m[33m311 [m[37m[40m[1m[1m[36m            close(pipefd[0]);[m[37m[40m[1m
[1m[33m312 [m[37m[40m[1m[1m[36m            vector<char *> arguments;[m[37m[40m[1m[64;220H[K[64;220H253,33[8C56%[4;37H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m313 [m[37m[40m[1m[1m[36m            for(size_t i = 0; i < commands[0].size(); ++i){[m[37m[40m[1m
[1m[33m314 [m[37m[40m[1m[1m[36m                arguments.push_back(&commands[0][i][0]);[m[37m[40m[1m
[1m[33m315 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m[64;220H[K[64;220H256,9[9C56%[4;13H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m316 [m[37m[40m[1m[1m[36m            arguments.push_back('\0');[m[37m[40m[1m
[1m[33m317 [m[37m[40m[1m[1m[36m            [m[37m[40m[1m
[1m[33m318 [m[37m[40m[1m[1m[36m            if(dup2(pipefd[1],1)<0){[m[37m[40m[1m[64;220H[K[64;220H259,1[9C57%[4;5H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m319 [m[37m[40m[1m[1m[36m                perror("dup fd1");[m[37m[40m[1m
[1m[33m320 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m
[1m[33m321 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m[64;220H[K[64;220H262,37[8C58%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m322 [m[37m[40m[1m[1m[36m            [m[37m[40m[1m
[1m[33m323 [m[37m[40m[1m[1m[36m            if(execvp(arguments[0],arguments.data())<0){[m[37m[40m[1m
[1m[33m324 [m[37m[40m[1m[1m[36m                perror("Executable Parent");[m[37m[40m[1m[64;220H[K[64;220H265,24[8C58%[4;28H[1;63r[1;1H[3M[1;64r[4;32H[46m{[8;13H}[m[37m[40m[1m[61;1H[1m[33m325 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m
[1m[33m326 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m327 [m[37m[40m[1m[1m[36m            close(pipefd[1]); [m[37m[40m[1m[64;220H[K[64;220H268,28[8C59%[4;32H[1;63r[1;1H[3M[1;64r[1;32H{[5;13H}[61;1H[1m[33m328 [m[37m[40m[1m[1m[36m            wait(&status);[m[37m[40m[1m
[1m[33m329 [m[37m[40m[1m[1m[36m            if(status<0){[m[37m[40m[1m
[1m[33m330 [m[37m[40m[1m[1m[36m                perror("Wait");[m[37m[40m[1m[64;220H[K[64;220H271,22[8C60%[4;26H[1;63r[1;1H[3M[1;64r[2;18H[46m{[4;13H}[m[37m[40m[1m[61;1H[1m[33m331 [m[37m[40m[1m[1m[36m                exit(1);[m[37m[40m[1m
[1m[33m332 [m[37m[40m[1m[1m[36m            }[m[37m[40m[1m
[1m[33m333 [m[37m[40m[1m[1m[36m            return;[m[37m[40m[1m[64;220H[K[64;220H274,9[9C60%[4;13H[1;63r[1;1H[3M[1;64r[1;13H}[61;1H[1m[33m334 [m[37m[40m[1m[1m[36m        }[m[37m[40m[1m
[1m[33m335 [m[37m[40m[1m[1m[36m    }else{[m[37m[40m[1m
[1m[33m336 [m[37m[40m[1m[1m[36m        cout << "Sorry too many Pipes" << endl;[m[37m[40m[1m[64;220H[K[64;220H277,30[8C61%[4;34H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m337 [m[37m[40m[1m[1m[36m    }*/[m[37m[40m[1m
[1m[33m338 
339 [m[37m[40m[1m    [1m[36m//pids = #of forks[m[37m[40m[1m[64;220H[K[64;220H280,15[8C62%[4;19H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m340 [m[37m[40m[1m    [1m[36m/*pidfd[m[37m[40m[1m
[1m[33m341 [m[37m[40m[1m[1m[36m        0,2,4 are reads[m[37m[40m[1m
[1m[33m342 [m[37m[40m[1m[1m[36m        1,3,5 are writes[][m[37m[40m[1m[64;220H[K[64;220H283,37[8C62%[4;41H[1;63r[1;1H[3M[1;64r[4;25H[1m[36m[46m{[53;9H}[m[37m[40m[1m[1m[36melse{[m[37m[40m[1m[61;1H[1m[33m343 [m[37m[40m[1m[1m[36m    */[m[37m[40m[1m
[1m[33m344 
345 [m[37m[40m[1m    pid_t* pids = [1m[33mnew[m[37m[40m[1m pid_t[pipeNum];[64;220H[K[64;220H286,21[8C63%[4;25H[1;63r[1;1H[3M[1;64r[1;25H[1m[36m{[50;9H}else{[m[37m[40m[1m[61;1H[1m[33m346 [m[37m[40m[1m    pid_t* forks = [1m[33mnew[m[37m[40m[1m pid_t[pipeNum+[1m[35m1[m[37m[40m[1m];
[1m[33m347 [m[37m[40m[1m    [1m[32mint[m[37m[40m[1m* pidfd = [1m[33mnew[m[37m[40m[1m [1m[32mint[m[37m[40m[1m[pipeNum*[1m[35m2[m[37m[40m[1m];
[1m[33m348 [m[37m[40m[1m[64;220H[K[64;220H289,19[8C64%[4;23H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m349 [m[37m[40m[1m    [1m[36m//Set up pipes[m[37m[40m[1m
[1m[33m350 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m( [1m[32mint[m[37m[40m[1m j=[1m[35m0[m[37m[40m[1m; j < pipeNum; ++j){
[1m[33m351 [m[37m[40m[1m[7C pipe(pidfd + (j*[1m[35m2[m[37m[40m[1m));[64;220H[K[64;220H292,37[8C64%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m352 [m[37m[40m[1m    }
[1m[33m353 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m( [1m[32mint[m[37m[40m[1m i=[1m[35m0[m[37m[40m[1m; i < pipeNum + [1m[35m1[m[37m[40m[1m; ++i){
[1m[33m354 [m[37m[40m[1m[7C [1m[36m//cout << "i: " << i << endl;[m[37m[40m[1m[64;220H[K[64;220H295,37[8C65%[4;41H[1;63r[1;1H[3M[1;64r[4;36H[1m[36m[46m([m[37m[40m[1m[1m[36m'\0'[m[37m[40m[1m[1m[36m[46m)[m[37m[40m[1m[1m[36m;[m[37m[40m[1m[61;1H[1m[33m355 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m ((forks[i] = fork()) < [1m[35m0[m[37m[40m[1m) {
[1m[33m356 [m[37m[40m[1m[11C perror([1m[35m"fork"[m[37m[40m[1m);
[1m[33m357 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m;[64;220H[K[64;220H298,37[8C66%[4;41H[1;63r[1;1H[3M[1;64r[1;36H[1m[36m('\0');[m[37m[40m[1m[61;1H[1m[33m358 [m[37m[40m[1m[7C } [1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m (forks[i] == [1m[35m0[m[37m[40m[1m) {
[1m[33m359 [m[37m[40m[1m[7C [1m[36m//Where to run runargs();[m[37m[40m[1m
[1m[33m360 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(i==[1m[35m0[m[37m[40m[1m){[1m[36m//-------------------------------------First [m[37m[40m[1m[64;220H[K[64;220H301,34[8C66%[4;38H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m361 [m[37m[40m[1m[15C [1m[36m//cout << "First Fork" << endl;[m[37m[40m[1m
[1m[33m362 [m[37m[40m[1m[15C [1m[36m//Redirect cout to first pipe[m[37m[40m[1m
[1m[33m363 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(pidfd[[1m[35m1[m[37m[40m[1m],[1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H304,12[8C67%[4;16H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m364 [m[37m[40m[1m[19C perror([1m[35m"dup2"[m[37m[40m[1m);
[1m[33m365 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m;
[1m[33m366 [m[37m[40m[1m[15C }[64;220H[K[64;220H307,24[8C68%[4;28H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m367 [m[37m[40m[1m[15C singleCommand(commands[i]);
[1m[33m368 [m[37m[40m[1m[15C [1m[36m//close all the pipes[m[37m[40m[1m
[1m[33m369 [m[37m[40m[1m[15C [1m[33mfor[m[37m[40m[1m([1m[32mint[m[37m[40m[1m j = [1m[35m0[m[37m[40m[1m;j<pipeNum*[1m[35m2[m[37m[40m[1m;++j){[64;220H[K[64;220H310,37[8C68%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m370 [m[37m[40m[1m[19C [1m[33mif[m[37m[40m[1m(j != [1m[35m1[m[37m[40m[1m){
[1m[33m371 [m[37m[40m[1m[23C [1m[33mif[m[37m[40m[1m(close(pidfd[j])<[1m[35m0[m[37m[40m[1m){
[1m[33m372 [m[37m[40m[1m[27C perror([1m[35m"close"[m[37m[40m[1m);[64;220H[K[64;220H313,37[8C69%[4;41H[1;63r[1;1H[3M[1;64r[4;36H[1m[36m[46m([m[37m[40m[1m[1m[36m'\0'[m[37m[40m[1m[1m[36m[46m)[m[37m[40m[1m[1m[36m;[m[37m[40m[1m[61;1H[1m[33m373 [m[37m[40m[1m[23C }
[1m[33m374 [m[37m[40m[1m[19C }
[1m[33m375 [m[37m[40m[1m[15C }[64;220H[K[64;220H316,37[8C70%[4;41H[1;63r[1;1H[3M[1;64r[1;36H[1m[36m('\0');[m[37m[40m[1m[61;1H[1m[33m376 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(i==pipeNum){[1m[36m//---------------------Last Fork[m[37m[40m[1m
[1m[33m377 [m[37m[40m[1m[15C [1m[36m//cout << "Last Fork" << endl;[m[37m[40m[1m
[1m[33m378 [m[37m[40m[1m[15C [1m[36m//Redirect cin to last pipe[m[37m[40m[1m[64;220H[K[64;220H319,34[8C70%[4;38H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m379 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(pidfd[(i-[1m[35m1[m[37m[40m[1m)*[1m[35m2[m[37m[40m[1m],[1m[35m0[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){
[1m[33m380 [m[37m[40m[1m[19C perror([1m[35m"dup2"[m[37m[40m[1m);
[1m[33m381 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m;[64;220H[K[64;220H322,12[8C71%[4;16H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m382 [m[37m[40m[1m[15C }
[1m[33m383 [m[37m[40m[1m[15C [1m[36m// singleCommand(commands[i]);[m[37m[40m[1m
[1m[33m384 [m[37m[40m[1m[15C [1m[36m// for(int j = 0;j<pipeNum*2;++j){[m[37m[40m[1m[64;220H[K[64;220H325,24[8C72%[4;28H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m385 [m[37m[40m[1m[15C [1m[36m//     close(pidfd[j]);[m[37m[40m[1m
[1m[33m386 [m[37m[40m[1m[15C [1m[36m// } [m[37m[40m[1m
[1m[33m387 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{[1m[36m//----------------------------------------Other Fork[m[37m[40m[1m[64;220H[K[64;220H328,26[8C72%[4;30H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m388 [m[37m[40m[1m[15C [1m[36m//cout << " Fork" << endl;[m[37m[40m[1m
[1m[33m389 [m[37m[40m[1m[15C [1m[36m//Redirect pipes in the mid[m[37m[40m[1m
[1m[33m390 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(pidfd[(i-[1m[35m1[m[37m[40m[1m)*[1m[35m2[m[37m[40m[1m],[1m[35m0[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H331,24[8C73%[4;28H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m391 [m[37m[40m[1m[19C perror([1m[35m"dup2"[m[37m[40m[1m);
[1m[33m392 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m;
[1m[33m393 [m[37m[40m[1m[15C }[64;220H[K[64;220H334,9[9C74%[4;13H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m394 
395 [m[37m[40m[1m[15C [1m[36m//Changes cin and cout[m[37m[40m[1m
[1m[33m396 [m[37m[40m[1m[15C [1m[33mif[m[37m[40m[1m(dup2(pidfd[(i-[1m[35m1[m[37m[40m[1m)*[1m[35m2[m[37m[40m[1m + [1m[35m3[m[37m[40m[1m],[1m[35m1[m[37m[40m[1m)<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H337,7[9C75%[4;11H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m397 [m[37m[40m[1m[19C perror([1m[35m"dup2"[m[37m[40m[1m);
[1m[33m398 [m[37m[40m[1m[19C [1m[33mreturn[m[37m[40m[1m;
[1m[33m399 [m[37m[40m[1m[15C }[64;220H[K[64;220H340,11[8C75%[4;15H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m400 [m[37m[40m[1m[15C singleCommand(commands[i]);
[1m[33m401 [m[37m[40m[1m[15C [1m[33mfor[m[37m[40m[1m([1m[32mint[m[37m[40m[1m j = [1m[35m0[m[37m[40m[1m;j<pipeNum*[1m[35m2[m[37m[40m[1m;++j){
[1m[33m402 [m[37m[40m[1m[19C close(pidfd[j]);[64;220H[K[64;220H343,8[9C76%[4;12H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m403 [m[37m[40m[1m[15C }
[1m[33m404 [m[37m[40m[1m[11C }
[1m[33m405 [m[37m[40m[1m[11C singleCommand(commands[i]);[64;220H[K[64;220H346,37[8C77%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m406 [m[37m[40m[1m[11C [1m[33mfor[m[37m[40m[1m([1m[32mint[m[37m[40m[1m j = [1m[35m0[m[37m[40m[1m;j < pipeNum*[1m[35m2[m[37m[40m[1m;++j){
[1m[33m407 [m[37m[40m[1m[15C cout << [1m[35m"child closed: "[m[37m[40m[1m << j << endl;
[1m[33m408 [m[37m[40m[1m[15C close(pidfd[j]);[64;220H[K[64;220H349,18[8C77%[4;22H[1;63r[1;1H[3M[1;64r[2;40H[46m{[4;9H}[m[37m[40m[1m[61;1H[1m[33m409 [m[37m[40m[1m[11C }
[1m[33m410 [m[37m[40m[1m[11C exit([1m[35m0[m[37m[40m[1m);
[1m[33m411 [m[37m[40m[1m[7C }[64;220H[K[64;220H352,5[9C78%[4;9H[1;63r[1;1H[3M[1;64r[1;9H}[61;1H[1m[33m412 [m[37m[40m[1m    }
[1m[33m413 
414 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m([1m[32mint[m[37m[40m[1m j = [1m[35m0[m[37m[40m[1m;j<pipeNum*[1m[35m2[m[37m[40m[1m;++j){[64;220H[K[64;220H355,37[8C79%[4;41H[1;63r[1;1H[3M[1;64r[4;39H[46m{[57;13H}[m[37m[40m[1m[61;1H[1m[33m415 [m[37m[40m[1m[7C cout << [1m[35m"parent closed: "[m[37m[40m[1m << j << endl;
[1m[33m416 [m[37m[40m[1m[7C close(pidfd[j]);
[1m[33m417 [m[37m[40m[1m    }[64;220H[K[64;220H358,35[8C79%[4;39H[1;63r[1;1H[3M[1;64r[1;39H{[54;13H}[61;1H[1m[33m418 
419 [m[37m[40m[1m    pid_t pid;
[1m[33m420 [m[37m[40m[1m    [1m[36m//waits for all the child[m[37m[40m[1m[64;220H[K[64;220H361,37[8C80%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m421 [m[37m[40m[1m    [1m[33mfor[m[37m[40m[1m( [1m[32mint[m[37m[40m[1m w=[1m[35m0[m[37m[40m[1m; w < pipeNum+[1m[35m1[m[37m[40m[1m; ++w) {
[1m[33m422 [m[37m[40m[1m[7C sigignore([1m[35mSIGINT[m[37m[40m[1m);
[1m[33m423 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m((pid = wait(&status))<[1m[35m0[m[37m[40m[1m){[64;220H[K[64;220H364,35[8C81%[4;39H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m424 [m[37m[40m[1m[11C perror([1m[35m"wait"[m[37m[40m[1m);
[1m[33m425 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m;
[1m[33m426 [m[37m[40m[1m[7C }[64;220H[K[64;220H367,37[8C81%[4;41H[1;63r[1;1H[3M[1;64r[4;35H[46m{[8;25H}[m[37m[40m[1m[61;1H[1m[33m427 [m[37m[40m[1m[7C cout << [1m[35m"Child PID: "[m[37m[40m[1m<< pid << endl;
[1m[33m428 [m[37m[40m[1m    }
[1m[33m429 [m[37m[40m[1m[64;220H[K[64;220H370,31[8C82%[4;35H[1;63r[1;1H[3M[1;64r[1;35H{[2;50H[46m{[4;29H}[m[37m[40m[1m[5;25H}[61;1H[1m[33m430 [m[37m[40m[1m    [1m[36m//De-allocate memory[m[37m[40m[1m
[1m[33m431 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] pids;
[1m[33m432 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] pidfd;[64;220H[K[64;220H373,25[8C83%[4;29H[1;63r[1;1H[3M[1;64r[1;29H}[61;1H[1m[33m433 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] forks;
[1m[33m434 [m[37m[40m[1m    forks = [1m[35m0[m[37m[40m[1m;
[1m[33m435 [m[37m[40m[1m    pids = [1m[35m0[m[37m[40m[1m;[64;220H[K[64;220H376,37[8C83%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m436 [m[37m[40m[1m    pidfd = [1m[35m0[m[37m[40m[1m;
[1m[33m437 
438 [m[37m[40m[1m}[64;220H[K[64;220H379,37[8C84%[4;41H[1;63r[1;1H[3M[1;64r[1;49H[46m{[4;21H}[m[37m[40m[1m[61;1H[1m[33m439 
440 [m[37m[40m[1m[1m[32mint[m[37m[40m[1m main([1m[32mint[m[37m[40m[1m argc,[1m[32mchar[m[37m[40m[1m **argv){
[1m[33m441 [m[37m[40m[1m    [1m[36m//Login[m[37m[40m[1m[64;220H[K[64;220H382,17[8C85%[4;21H[1;63r[1;1H[3M[1;64r[1;21H}[4;39H[1m[36m[46m[[m[37m[40m[1m[1m[36mj[m[37m[40m[1m[1m[36m[46m][m[37m[40m[1m[1m[36m);[m[37m[40m[1m[61;1H[1m[33m442 [m[37m[40m[1m    [1m[36m/*char host[200];//allocate memeory for host[m[37m[40m[1m
[1m[33m443 [m[37m[40m[1m[1m[36m    char* user;[m[37m[40m[1m
[1m[33m444 [m[37m[40m[1m[1m[36m    int hStat = gethostname(host, 200);[m[37m[40m[1m[64;220H[K[64;220H385,37[8C85%[4;41H[1;63r[1;1H[3M[1;64r[1;39H[1m[36m[j]);[m[37m[40m[1m[61;1H[1m[33m445 [m[37m[40m[1m[1m[36m    if(hStat !=0){[m[37m[40m[1m
[1m[33m446 [m[37m[40m[1m[1m[36m        perror("Cannot get Host Name");[m[37m[40m[1m
[1m[33m447 [m[37m[40m[1m[1m[36m    }[m[37m[40m[1m[64;220H[K[64;220H388,37[8C86%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m448 [m[37m[40m[1m[1m[36m    if(getlogin() != NULL){[m[37m[40m[1m
[1m[33m449 [m[37m[40m[1m[1m[36m        user = getlogin();[m[37m[40m[1m
[1m[33m450 [m[37m[40m[1m[1m[36m    }else{[m[37m[40m[1m[64;220H[K[64;220H391,35[8C87%[4;39H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m451 [m[37m[40m[1m[1m[36m        perror("Cannot get User Name");[m[37m[40m[1m
[1m[33m452 [m[37m[40m[1m[1m[36m    }*/[m[37m[40m[1m
[1m[33m453 [m[37m[40m[1m    [1m[32mchar[m[37m[40m[1m cwd[[1m[35mBUFSIZ[m[37m[40m[1m];[64;220H[K[64;220H394,16[8C87%[4;20H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m454 
455 [m[37m[40m[1m    [1m[36m//Declarations[m[37m[40m[1m
[1m[33m456 [m[37m[40m[1m    string input;[64;220H[K[64;220H397,35[8C88%[4;39H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m[64;220H[K[64;220H400,37[8C89%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;[64;220H[K[64;220H403,18[8C89%[4;22H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 [m[37m[40m[1m[64;220H[K[64;220H406,37[8C90%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);[64;220H[K[64;220H409,14[8C91%[4;18H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 [m[37m[40m[1m[64;220H[K[64;220H412,5[9C91%[4;9H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);[64;220H[K[64;220H415,37[8C92%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;[64;220H[K[64;220H418,4[9C93%[4;8H[1;63r[1;1H[3M[1;64r[4;12H[46m([28C)[m[37m[40m[1m[61;1H[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }[64;220H[K[64;220H421,37[8C93%[4;41H[1;63r[1;1H[3M[1;64r[1;12H([28C)[61;1H[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }[64;220H[K[64;220H424,27[8C94%[4;31H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m[64;220H[K[64;220H427,37[8C95%[4;41H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m[64;220H[K[64;220H430,24[8C95%[4;28H[64;221H66,38[40;42H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m490 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m491 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m);
[1m[33m492 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){[64;220H[K[64;220H466,38[8C96%[37;42H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m493 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m494 [m[37m[40m[1m[11C }
[1m[33m495 [m[37m[40m[1m[7C }[64;220H[K[64;220H466,38[8C97%[34;42H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m496 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m497 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m498 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[64;220H[K[64;220H466,38[8C97%[31;42H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m499 [m[37m[40m[1m[15C comCD(args);
[1m[33m500 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m501 [m[37m[40m[1m[15C allCommand(args);[64;220H[K[64;220H466,38[8C98%[28;42H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m502 [m[37m[40m[1m[11C }
[1m[33m503 [m[37m[40m[1m[7C }
[1m[33m504 [m[37m[40m[1m[7C args.clear();[64;220H[K[64;220H466,38[8C99%[25;42H[64;221H87,8 [46;12H[64;222H8,20[47;24H[64;1H[1m-- INSERT --[m[37m[40m[1m[64;220H[K[64;220H488,20[8C99%[47;24H[64;225H1[47;25H[48;17H[K[49;16H [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m[50;16H [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){[51;16H     exit([1m[35m0[m[37m[40m[1m);[51;29H[K[52;16H }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){[52;33H[K[53;16H     args.push_back(*it);[54;12H     }[55;12H }[55;14H[K[56;12H [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m[57;12H [1m[33mif[m[37m[40m[1m(concatArg(args)){[57;33H[K[58;16H [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[59;16H     comCD(args);[60;16H }[1m[33melse[m[37m[40m[1m{[60;23H[K[61;16H     allCommand(args);[62;12H     }[63;12H }[63;14H[K[64;222H9,9 [48;13H[51;25H[46m([1C)[m[37m[40m[1m[64;221H92,24[51;28H[64;4H[1m(insert)- VISUAL --[m[37m[40m[1m[64;220H[K[64;220H492,25[8C99%[51;25H([1C)[7m[40m;[1;63r[m[37m[40m[1m[1;1H[3M[1;64r[61;1H[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;[64;220H[K[64;220H492,25[8C99%[48;29H[1;63r[1;1H[3M[1;64r[61;1H[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                                                                                                                                                                                            [63;1H~                                                                                                                                                                                                                                            [m[37m[40m[1m[64;220H[K[64;220H492,25[8CBot[45;29H[1;63r[1;1H[3M[1;64r[61;1H[1m[34m~                                                                                                                                                                                                                                            [62;1H~                                                                                                                                                                                                                                            [63;1H~                                                                                                                                                                                                                                            [m[37m[40m[1m[64;220H[K[64;220H492,25[8CBot[42;29H[1;63r[1;1H[3M[1;64r[61;1H[1m[34m~                                                                                                                                                                                                                                            [62;1H~                                                                                                                                                                                                                                            [63;1H~                                                                                                                                                                                                                                            [m[37m[40m[1m[64;220H[K[64;220H492,25[8CBot[39;29H[1;63r[1;1H[3L[1;64r[1;1H[1m[33m451 [m[37m[40m[1m[1m[36m        perror("Cannot get User Name");[m[37m[40m[1m
[1m[33m452 [m[37m[40m[1m[1m[36m    }*/[m[37m[40m[1m
[1m[33m453 [m[37m[40m[1m    [1m[32mchar[m[37m[40m[1m cwd[[1m[35mBUFSIZ[m[37m[40m[1m];[64;220H[K[64;220H492,25[8CBot[42;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[16;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[16;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[17;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[18;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[18;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[19;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[20;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[21;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[22;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[22;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[23;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C98%[24;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[24;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[25;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[26;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[26;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[27;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[28;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[28;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[29;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[29;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[30;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8C99%[31;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[31;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[32;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[33;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [m[37m[40m[1m[51;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[33;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [m[37m[40m[1m[52;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[34;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [m[37m[40m[1m[53;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[35;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [53;1H~                                                                               [m[37m[40m[1m[54;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[35;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [54;1H~                                                                               [m[37m[40m[1m[55;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[36;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [55;1H~                                                                               [m[37m[40m[1m[56;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[37;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [55;1H~                                                                               [56;1H~                                                                               [m[37m[40m[1m[57;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[37;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m455 [m[37m[40m[1m    [1m[36m//Declarations[m[37m[40m[1m
[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [56;1H~                                                                               [57;1H~                                                                               [m[37m[40m[1m[58;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[38;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m454 
455 [m[37m[40m[1m    [1m[36m//Declarations[m[37m[40m[1m
[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [57;1H~                                                                               [58;1H~                                                                               [m[37m[40m[1m[59;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[39;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m454 
455 [m[37m[40m[1m    [1m[36m//Declarations[m[37m[40m[1m
[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [57;1H~                                                                               [58;1H~                                                                               [59;1H~                                                                               [m[37m[40m[1m[60;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[39;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m453 [m[37m[40m[1m    [1m[32mchar[m[37m[40m[1m cwd[[1m[35mBUFSIZ[m[37m[40m[1m];
[1m[33m454 
455 [m[37m[40m[1m    [1m[36m//Declarations[m[37m[40m[1m
[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [58;1H~                                                                               [59;1H~                                                                               [60;1H~                                                                               [m[37m[40m[1m[61;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[40;29H[m[37m[40m[1m[H[2J[1;1H[1m[33m452 [m[37m[40m[1m[1m[36m    }*/[m[37m[40m[1m
[1m[33m453 [m[37m[40m[1m    [1m[32mchar[m[37m[40m[1m cwd[[1m[35mBUFSIZ[m[37m[40m[1m];
[1m[33m454 
455 [m[37m[40m[1m    [1m[36m//Declarations[m[37m[40m[1m
[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 
490 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m492 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m)[7m[40m;[m[37m[40m[1m
[1m[33m493 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m494 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m495 [m[37m[40m[1m[11C }
[1m[33m496 [m[37m[40m[1m[7C }
[1m[33m497 [m[37m[40m[1m[7C [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(concatArg(args)){
[1m[33m499 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){
[1m[33m500 [m[37m[40m[1m[15C comCD(args);
[1m[33m501 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m502 [m[37m[40m[1m[15C allCommand(args);
[1m[33m503 [m[37m[40m[1m[11C }
[1m[33m504 [m[37m[40m[1m[7C }
[1m[33m505 [m[37m[40m[1m[7C args.clear();
[1m[33m506 [m[37m[40m[1m    }
[1m[33m507 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}
[1m[34m~                                                                               [59;1H~                                                                               [60;1H~                                                                               [61;1H~                                                                               [m[37m[40m[1m[62;1H[1m-- (insert) VISUAL --[m[37m[40m[1m[41C492,25[8CBot[41;29H[62;4H[1mINSERTt --[m[37m[40m[1m[62;13H[K[62;63H497,37[8CBot[41;28H;[46;41H[42;32H[46m{[44;17H}[m[37m[40m[1m[62;65H5,14[44;18H[42;32H{[44;17H}[62;64H86,35[35;39H[62;65H8,21[37;25H[62;65H9,1 [38;5H[62;1H[K[38;5H[62;63H489,0-1[7CBot[38;5H[62;1H[1m-- INSERT --[m[37m[40m[1m[62;63H[K[62;63H489,1[9CBot[38;5H[62;67H5[38;9H[62;67H9[38;13H f[62;67H10[38;14Hfo[62;68H1[38;15H[1m[33mfor[m[37m[40m[1m[62;68H2[38;16Hfo[38;15H[K[62;68H1[38;15H[38;14H[K[62;68H0[38;14H[38;13H[K[62;67H9 [38;13H g[62;67H10[38;14Hge[62;68H1[38;15Het[62;68H2[38;16Htl[62;68H3[38;17Hli[62;68H4[38;18Hin[62;68H5[38;19Hne[62;68H6[38;20He.[62;68H7[38;21H.([40;34H[1m[37m[41m{[42;17H}[14C{[44;17H}[45;13H}[47;32H{[48;34H{[50;17H}[4C{[52;17H}[53;13H}[55;9H}[57;5H}[m[37m[40m[1m[62;68H8[38;22H(c[62;68H9[38;23Hci[62;67H20[38;24Hin[62;68H1[38;25H[38;24H[K[62;68H0[38;24H[38;23H[K[62;67H19[38;23H[38;22H[K[62;68H8[38;22H[38;21H[K[40;34H{[42;17H}[1m[33mif[m[37m[40m[1m([11C{[44;17H}[45;13H}[47;32H{[48;34H{[50;17H}[1m[33melse[m[37m[40m[1m{[52;17H}[53;13H}[55;9H}[57;5H}[62;68H7[38;21H[38;20H[K[62;68H6[38;20He([40;34H[1m[37m[41m{[42;17H}[14C{[44;17H}[45;13H}[47;32H{[48;34H{[50;17H}[4C{[52;17H}[53;13H}[55;9H}[57;5H}[m[37m[40m[1m[62;68H7[38;21H(c[62;68H8[38;22Hci[62;68H9[38;23Hin[62;67H20[38;24H[38;23H[K[62;67H19[38;23H[38;22H[K[62;68H8[38;22H[38;21H[K[62;68H7[38;21H[38;20H[K[40;34H{[42;17H}[1m[33mif[m[37m[40m[1m([11C{[44;17H}[45;13H}[47;32H{[48;34H{[50;17H}[1m[33melse[m[37m[40m[1m{[52;17H}[53;13H}[55;9H}[57;5H}[62;68H6[38;20H[38;19H[K[62;68H5[38;19H[38;18H[K[62;68H4[38;18H[38;17H[K[62;68H3[38;17H[38;16H[K[62;68H2[38;16H[38;15H[K[62;68H1[38;15H[38;14H[K[62;68H0[38;14H[38;13H[K[62;67H9 [38;13H[62;67H5[38;9H[62;67H1[38;5H[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m[39;16H [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){[39;35H[K[40;16H     exit([1m[35m0[m[37m[40m[1m);[40;29H[K[41;16H }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){[42;16H     args.push_back(*it);[43;16H }[43;21H[K[44;12H }[44;17H[K[45;12H [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m[46;12H [1m[33mif[m[37m[40m[1m(concatArg(args)){[46;33H[K[47;12H     [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[48;16H     comCD(args);[48;33H[K[49;16H }[1m[33melse[m[37m[40m[1m{[49;23H[K[50;16H     allCommand(args);[51;16H }[51;21H[K[52;12H }[52;17H[K[53;12H args.clear();[54;8H }[54;13H[K[55;8H [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;[56;4H[1m[33m [m[37m[40m[1m}[56;9H[K[57;1H[1m[34m~                                                                               [m[37m[40m[1m[62;65H8,21[37;25H[38;17H[K[39;16H [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m[40;16H [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){[41;16H     exit([1m[35m0[m[37m[40m[1m);[41;29H[K[42;16H }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){[42;33H[K[43;16H     args.push_back(*it);[44;12H     }[45;12H }[45;14H[K[46;12H [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m[47;12H [1m[33mif[m[37m[40m[1m(concatArg(args)){[47;33H[K[48;16H [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[49;16H     comCD(args);[50;16H }[1m[33melse[m[37m[40m[1m{[50;23H[K[51;16H     allCommand(args);[52;12H     }[53;12H }[53;14H[K[54;8H     args.clear();[55;8H }[55;10H[K[56;4H[1m[33m [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m508 [m[37m[40m[1m}[57;6H[K[62;65H9,9 [38;13H[62;1H[K[38;5H[62;63H489,0-1[7CBot[38;5H[62;63H[K[62;1H:wq[?1002l"src/rshell.cpp" 508L, 14586C written
[m[m[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m exit
exit
~
dding002@hammer $ cs100
[0;91m
===============================================================================
|                                                                             |
| You have enabled settings specific for cs100.  Everything you do is being   |
| recorded to measure your progress in the class.                             |
|                                                                             |
| Important commands for the class:                                           |
|   * calcgrade.sh          displays a detailed breakdown of your grade       |
|   * checksyscalls.sh      is your cpp file doing proper error checking?     |
|   * typespeed             practice typing unix commands                     |
|                                                                             |
| Important commands for general C++ programming:                             |
|   * make                  don't call g++ manually; let make do the work!    |
|   * gdb                   the GNU debugger                                  |
|   * valgrind              get rid of your memory leaks                      |
|   * cppcheck              static analysis tool                              |
|   * man                   find help about any syscall / terminal command    |
|                                                                             |
===============================================================================
[0m
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m ls[K[Kps
  PID TTY          TIME CMD
 3636 pts/1    00:00:00 bash
 3649 pts/1    00:00:00 ps
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m cd[K[Kcs[Kcd[K[Kd cs100
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100[0;95m [0;36m$[0m cd s[Kassignment/assignment0/
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m ls
bin  LICENSE.md  makefile  README.md  src  test
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m geany src.[K/rshell.cpp 
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m make
if [ ! -d bin ]; then mkdir bin; fi
g++ -std=c++11 -ansi -pedantic -Wall -Werror -g ./src/rshell.cpp \
	-o bin/rshell
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m ls test
cd
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m c[Krm test/cd
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m ls test
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m make
if [ ! -d bin ]; then mkdir bin; fi
g++ -std=c++11 -ansi -pedantic -Wall -Werror -g ./src/rshell.cpp \
	-o bin/rshell
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m make run
bin/rshell
~/cs100/assignment/assignment0 $ hi    ls #nothing
ls: cannot access #nothing: No such file or directory
~/cs100/assignment/assignment0 $ : exit
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m fg
bash: fg: current: no such job
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m vim src.[K/rshell.cpp 
[?1000h7[?47h[?1h=[1;62r[m[37m[40m[1m[H[2J[62;1H[1m[37m[41mE325: ATTENTION[m[37m[40m[1m
Found a swap file by the name "src/.rshell.cpp.swp"
[10Cowned by: dding002   dated: Fri May 29 22:52:20 2015
[9Cfile name: ~dding002/cs100/assignment/assignment0/src/rshell.cpp
[10Cmodified: no
[9Cuser name: dding002   host name: hammer.cs.ucr.edu
[8Cprocess ID: 46501 (still running)
While opening file "src/rshell.cpp"
[13Cdated: Fri May 29 23:23:56 2015
      NEWER than swap file!

(1) Another program may be editing the same file.
    If this is the case, be careful not to end up with two
    different instances of the same file when making changes.
    Quit, or continue with caution.

(2) An edit session for this file crashed.
    If this is the case, use ":recover" or "vim -r src/rshell.cpp"
    to recover the changes (see ":help recovery").
    If you did this already, delete the swap file "src/.rshell.cpp.swp"
    to avoid this message.
[?1000l
[1m[32mSwap file "src/.rshell.cpp.swp" already exists![m[37m[40m[1m
[1m[32m[O]pen Read-Only, (E)dit anyway, (R)ecover, (Q)uit, (A)bort: [?1000h[m[37m[40m[1m[62;1H[K[62;1H"src/rshell.cpp" 515L, 14967C
Using swap file "src/.rshell.cpp.swp"
Original file "~/cs100/assignment/assignment0/src/rshell.cpp"
[1m[37m[41mE308: Warning: Original file may have been changed[m[37m[40m[1m
Recovery completed. You should check if everything is OK.
(You might want to write out this file under another name
and run diff with the original file to check for changes)
Delete the .swp file afterwards.


[>c[?1000l[1m[32mPress ENTER or type command to continueP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1002h[m[37m[40m[1m[1;1H[10L[1;1H[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 [m[37m[40m[1m[11C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m490 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){
[1m[33m491 [m[37m[40m[1m[15C exit([1m[35m0[m[37m[40m[1m);
[1m[33m492 [m[37m[40m[1m[11C }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){
[1m[33m493 [m[37m[40m[1m[15C args.push_back(*it);
[1m[33m494 [m[37m[40m[1m[11C }
[1m[33m495 [m[37m[40m[1m        }[39;14H[K[40;1H[1m[33m496 [m[37m[40m[1m        [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m497 [m[37m[40m[1m        [1m[33mif[m[37m[40m[1m(concatArg(args)){[41;33H[K[42;1H[1m[33m498 [m[37m[40m[1m            [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[42;35H[K[43;1H[1m[33m499 [m[37m[40m[1m                comCD(args);
[1m[33m500 [m[37m[40m[1m            }[1m[33melse[m[37m[40m[1m{[44;23H[K[45;1H[1m[33m501 [m[37m[40m[1m                allCommand(args);[45;38H[K[46;1H[1m[33m502 [m[37m[40m[1m            }[46;18H[K[47;1H[1m[33m503 [m[37m[40m[1m[7C }[47;14H[K[48;1H[1m[33m504 [m[37m[40m[1m        args.clear();[48;26H[K[49;1H[1m[33m505 [m[37m[40m[1m    }
[1m[33m506 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;[50;18H[K[51;1H[1m[33m507 [m[37m[40m[1m}[51;6H[K[52;1H[1m[34m~                                                                               [53;1H~                                                                               [54;1H~                                                                               [55;1H~                                                                               [56;1H~                                                                               [57;1H~                                                                               [58;1H~                                                                               [59;1H~                                                                               [60;1H~                                                                               [61;1H~                                                                               [m[37m[40m[1m[62;1H[K[62;63H489,13[8CBot[33;17H[62;65H7,8 [31;12H[62;63H[K[62;1H:q[62;2H[K[62;2Hwq[?1002l"src/rshell.cpp" 507L, 14585C written
[m[m[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m geany src/rshell.cpp 
ls
ps
^Z
[1]+  Stopped                 geany src/rshell.cpp
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m fg
geany src/rshell.cpp
^C
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m ls[K[Kps
  PID TTY          TIME CMD
 3636 pts/1    00:00:00 bash
 4260 pts/1    00:00:00 ps
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m fg
bash: fg: current: no such job
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m ci[K[Kvim src/rshell.cpp 
[?1000h7[?47h[?1h=[1;62r[m[37m[40m[1m[H[2J[62;1H[1m[37m[41mE325: ATTENTION[m[37m[40m[1m
Found a swap file by the name "src/.rshell.cpp.swp"
[10Cowned by: dding002   dated: Fri May 29 22:52:20 2015
[9Cfile name: ~dding002/cs100/assignment/assignment0/src/rshell.cpp
[10Cmodified: no
[9Cuser name: dding002   host name: hammer.cs.ucr.edu
[8Cprocess ID: 46501 (still running)
While opening file "src/rshell.cpp"
[13Cdated: Fri May 29 23:25:32 2015
      NEWER than swap file!

(1) Another program may be editing the same file.
    If this is the case, be careful not to end up with two
    different instances of the same file when making changes.
    Quit, or continue with caution.

(2) An edit session for this file crashed.
    If this is the case, use ":recover" or "vim -r src/rshell.cpp"
    to recover the changes (see ":help recovery").
    If you did this already, delete the swap file "src/.rshell.cpp.swp"
    to avoid this message.
[?1000l
[1m[32mSwap file "src/.rshell.cpp.swp" already exists![m[37m[40m[1m
[1m[32m[O]pen Read-Only, (E)dit anyway, (R)ecover, (Q)uit, (A)bort: [?1000h[m[37m[40m[1m[62;1H[K[62;1H"src/rshell.cpp" 515L, 14967C[>c[1;1H[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 [m[37m[40m[1m[7C getline(cin,input);[1m[36m//get input[m[37m[40m[1m
[1m[33m490 [m[37m[40m[1m[1m[36m//================Tokenize the input into multiple parts==============[m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[7C [1m[36m//separators[m[37m[40m[1m
[1m[33m492 [m[37m[40m[1m[7C char_separator<[1m[32mchar[m[37m[40m[1m> delim([1m[35m" "[m[37m[40m[1m,[1m[35m";"[m[37m[40m[1m);
[1m[33m493 [m[37m[40m[1m[7C tokenizer<char_separator<[1m[32mchar[m[37m[40m[1m> > mytok(input, delim);[1m[36m//seperat the ii[m[37m[40m[1m[39;1H[1m[33m    [m[37m[40m[1m[1m[36mnput[m[37m[40m[1m[39;9H[K[40;1H[1m[33m494 [m[37m[40m[1m[40;5H[K[41;1H[1m[33m495 [m[37m[40m[1m        [1m[33mfor[m[37m[40m[1m(mytok::iterator it = mytok.begin(); it != mytok.end(); ++it){
[1m[33m496 [m[37m[40m[1m            [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m[42;54H[K[43;1H[1m[33m497 [m[37m[40m[1m            [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m            [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){[44;35H[K[45;1H[1m[33m499 [m[37m[40m[1m                exit([1m[35m0[m[37m[40m[1m);[45;29H[K[46;1H[1m[33m500 [m[37m[40m[1m            }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){[46;33H[K[47;1H[1m[33m501 [m[37m[40m[1m[8C        args.push_back(*it);[47;41H[K[48;1H[1m[33m502 [m[37m[40m[1m            }[48;18H[K[49;1H[1m[33m503 [m[37m[40m[1m[7C }
[1m[33m504 [m[37m[40m[1m        [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m505 [m[37m[40m[1m        [1m[33mif[m[37m[40m[1m(concatArg(args)){[51;33H[K[52;1H[1m[33m506 [m[37m[40m[1m            [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[52;35H[K[53;1H[1m[33m507 [m[37m[40m[1m                comCD(args);[53;33H[K[54;1H[1m[33m508 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m509 [m[37m[40m[1m                allCommand(args);[55;38H[K[56;1H[1m[33m510 [m[37m[40m[1m            }[56;18H[K[57;1H[1m[33m511 [m[37m[40m[1m        }[57;14H[K[58;1H[1m[33m512 [m[37m[40m[1m        args.clear();[58;26H[K[59;1H[1m[33m513 [m[37m[40m[1m    }[59;10H[K[60;1H[1m[33m514 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m515 [m[37m[40m[1m}[61;6H[K[62;63H487,8[9CBot[32;12H[?1000l[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[1;61r[1;1H[3M[1;62r[59;1H[1m[34m~                                                                               [60;1H~                                                                               [61;1H~                                                                               [m[37m[40m[1m[62;1H[K[62;63H487,8[9CBot[29;12H[1;61r[1;1H[3M[1;62r[59;1H[1m[34m~                                                                               [60;1H~                                                                               [61;1H~                                                                               [m[37m[40m[1m[62;63H[K[62;63H487,8[9CBot[26;12H[1;61r[1;1H[3M[1;62r[59;1H[1m[34m~                                                                               [60;1H~                                                                               [61;1H~                                                                               [m[37m[40m[1m[62;63H[K[62;63H487,8[9CBot[23;12H[1;61r[1;1H[3M[1;62r[59;1H[1m[34m~                                                                               [60;1H~                                                                               [61;1H~                                                                               [m[37m[40m[1m[62;63H[K[62;63H487,8[9CBot[20;12H[62;64H92,42[25;46H[62;1H[1m-- INSERT --[m[37m[40m[1m[62;63H[K[62;63H492,42[8CBot[25;46H[1m[35m;#"[m[37m[40m[1m);[62;68H3[25;47H[62;1H[K[25;46H[62;63H492,42[8CBot[25;46H[62;63H[K[62;1H:wq[?1002l"src/rshell.cpp" 515L, 14968C written
[m[m[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m make
if [ ! -d bin ]; then mkdir bin; fi
g++ -std=c++11 -ansi -pedantic -Wall -Werror -g ./src/rshell.cpp \
	-o bin/rshell
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m make run
bin/rshell
~/cs100/assignment/assignment0 $ ls
bin  LICENSE.md  makefile  README.md  src  test
~/cs100/assignment/assignment0 $ ls # hi there
ls: cannot access hi: No such file or directory
ls: cannot access there: No such file or directory
~/cs100/assignment/assignment0 $ exit
[s%%%%%%%%%%[u[0;32mdding002[0;36m@[0;32mcs100[0;36m:[0;32m~/cs100/assignment/assignment0[0;95m (master) [0;36m$[0m vim sr[K[K[K[K[K[Kmake run[Kvim src/rshell.cpp 
[?1000h7[?47h[?1h=[1;62r[m[37m[40m[1m[H[2J[62;1H[1m[37m[41mE325: ATTENTION[m[37m[40m[1m
Found a swap file by the name "src/.rshell.cpp.swp"
[10Cowned by: dding002   dated: Fri May 29 22:52:20 2015
[9Cfile name: ~dding002/cs100/assignment/assignment0/src/rshell.cpp
[10Cmodified: no
[9Cuser name: dding002   host name: hammer.cs.ucr.edu
[8Cprocess ID: 46501 (still running)
While opening file "src/rshell.cpp"
[13Cdated: Fri May 29 23:26:18 2015
      NEWER than swap file!

(1) Another program may be editing the same file.
    If this is the case, be careful not to end up with two
    different instances of the same file when making changes.
    Quit, or continue with caution.

(2) An edit session for this file crashed.
    If this is the case, use ":recover" or "vim -r src/rshell.cpp"
    to recover the changes (see ":help recovery").
    If you did this already, delete the swap file "src/.rshell.cpp.swp"
    to avoid this message.
[?1000l
[1m[32mSwap file "src/.rshell.cpp.swp" already exists![m[37m[40m[1m
[1m[32m[O]pen Read-Only, (E)dit anyway, (R)ecover, (Q)uit, (A)bort: [?1000h[m[37m[40m[1m[62;1H[K[62;1H"src/rshell.cpp" 515L, 14968C[>c[1;1H[1m[33m456 [m[37m[40m[1m    string input;
[1m[33m457 [m[37m[40m[1m    vector<string> args;
[1m[33m458 
459 [m[37m[40m[1m    [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m
[1m[33m460 [m[37m[40m[1m    [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){
[1m[33m461 [m[37m[40m[1m[7C [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;
[1m[33m462 [m[37m[40m[1m[7C newAction.sa_handler = sigHandler;
[1m[33m463 [m[37m[40m[1m[7C sigemptyset(&newAction.sa_mask);
[1m[33m464 [m[37m[40m[1m[7C newAction.sa_flags = [1m[35m0[m[37m[40m[1m;
[1m[33m465 
466 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){
[1m[33m467 [m[37m[40m[1m[11C [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){
[1m[33m468 [m[37m[40m[1m[15C perror([1m[35m"sigaction"[m[37m[40m[1m);
[1m[33m469 [m[37m[40m[1m[11C }
[1m[33m470 [m[37m[40m[1m[7C }
[1m[33m471 
472 [m[37m[40m[1m[7C [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m
[1m[33m473 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){
[1m[33m474 [m[37m[40m[1m[11C perror([1m[35m"getcwd"[m[37m[40m[1m);
[1m[33m475 [m[37m[40m[1m[7C }
[1m[33m476 [m[37m[40m[1m[7C string home = getenv([1m[35m"HOME"[m[37m[40m[1m);
[1m[33m477 [m[37m[40m[1m[7C string dir = cwd;
[1m[33m478 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){
[1m[33m479 [m[37m[40m[1m[11C perror([1m[35m"getenv"[m[37m[40m[1m);
[1m[33m480 [m[37m[40m[1m[7C }
[1m[33m481 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){
[1m[33m482 [m[37m[40m[1m[11C dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);
[1m[33m483 [m[37m[40m[1m[7C }
[1m[33m484 
485 [m[37m[40m[1m[7C cout << dir <<[1m[35m" $ "[m[37m[40m[1m;
[1m[33m486 [m[37m[40m[1m[7C cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m
[1m[33m487 
488 [m[37m[40m[1m[7C cin.clear();
[1m[33m489 [m[37m[40m[1m[7C getline(cin,input);[1m[36m//get input[m[37m[40m[1m
[1m[33m490 [m[37m[40m[1m[1m[36m//================Tokenize the input into multiple parts==============[m[37m[40m[1m
[1m[33m491 [m[37m[40m[1m[7C [1m[36m//separators[m[37m[40m[1m
[1m[33m492 [m[37m[40m[1m[7C char_separator<[1m[32mchar[m[37m[40m[1m> delim([1m[35m" "[m[37m[40m[1m,[1m[35m";#"[m[37m[40m[1m);
[1m[33m493 [m[37m[40m[1m[7C tokenizer<char_separator<[1m[32mchar[m[37m[40m[1m> > mytok(input, delim);[1m[36m//seperat the ii[m[37m[40m[1m[39;1H[1m[33m    [m[37m[40m[1m[1m[36mnput[m[37m[40m[1m[39;9H[K[40;1H[1m[33m494 [m[37m[40m[1m[40;5H[K[41;1H[1m[33m495 [m[37m[40m[1m        [1m[33mfor[m[37m[40m[1m(mytok::iterator it = mytok.begin(); it != mytok.end(); ++it){
[1m[33m496 [m[37m[40m[1m            [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m[42;54H[K[43;1H[1m[33m497 [m[37m[40m[1m            [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m
[1m[33m498 [m[37m[40m[1m            [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){[44;35H[K[45;1H[1m[33m499 [m[37m[40m[1m                exit([1m[35m0[m[37m[40m[1m);[45;29H[K[46;1H[1m[33m500 [m[37m[40m[1m            }[1m[33mif[m[37m[40m[1m(*it != [1m[35m"#"[m[37m[40m[1m){[46;33H[K[47;1H[1m[33m501 [m[37m[40m[1m[8C        args.push_back(*it);[47;41H[K[48;1H[1m[33m502 [m[37m[40m[1m            }[48;18H[K[49;1H[1m[33m503 [m[37m[40m[1m[7C }
[1m[33m504 [m[37m[40m[1m        [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m
[1m[33m505 [m[37m[40m[1m        [1m[33mif[m[37m[40m[1m(concatArg(args)){[51;33H[K[52;1H[1m[33m506 [m[37m[40m[1m            [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[52;35H[K[53;1H[1m[33m507 [m[37m[40m[1m                comCD(args);[53;33H[K[54;1H[1m[33m508 [m[37m[40m[1m[11C }[1m[33melse[m[37m[40m[1m{
[1m[33m509 [m[37m[40m[1m                allCommand(args);[55;38H[K[56;1H[1m[33m510 [m[37m[40m[1m            }[56;18H[K[57;1H[1m[33m511 [m[37m[40m[1m        }[57;14H[K[58;1H[1m[33m512 [m[37m[40m[1m        args.clear();[58;26H[K[59;1H[1m[33m513 [m[37m[40m[1m    }[59;10H[K[60;1H[1m[33m514 [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;
[1m[33m515 [m[37m[40m[1m}[61;6H[K[62;63H492,9[9CBot[37;13H[?1000l[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[46;20H[46m([10C)[m[37m[40m[1m[62;63H500,27[46;31H[46;20H([10C)[62;63H499,24[45;28H[62;1H[1m-- INSERT --[m[37m[40m[1m[62;13H[K[62;63H499,24[8CBot[45;28H[46;32H[46m{[48;17H}[m[37m[40m[1m[62;63H500,29[46;33H[62;68H8[46;32H[46;20H[46m([10C)[m[37m[40m[1m{[48;17H}[62;68H7[46;31H[46;20H([10C)[62;68H6[46;30H[62;68H5[46;29H[62;68H4[46;28H[62;68H3[46;27H[62;68H2[46;26H = [1m[35m"#"[m[37m[40m[1m){[46;32H[K[62;68H1[46;25H -= [1m[35m"#"[m[37m[40m[1m){[62;68H2[46;26H = [1m[35m"#"[m[37m[40m[1m){[46;32H[K[62;68H1[46;25H== [1m[35m"#"[m[37m[40m[1m){[62;68H2[46;26H[62;68H3[46;27H[62;68H4[46;28H[62;68H5[46;29H[62;68H6[46;30H[46;20H[46m([10C)[m[37m[40m[1m[62;68H7[46;31H[46;20H([10C)[46m{[48;17H}[m[37m[40m[1m[62;68H8[46;32H)[46m [m[37m[40m[1m[47;16H {[47;21H[K[48;16H [46m [m[37m[40m[1m   args.push_back(*it);[49;12H     }[50;12H }[50;14H[K[51;12H [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m[52;12H [1m[33mif[m[37m[40m[1m(concatArg(args)){[52;33H[K[53;16H [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[54;16H     comCD(args);[55;16H }[1m[33melse[m[37m[40m[1m{[55;23H[K[56;16H     allCommand(args);[57;12H     }[58;12H }[58;14H[K[59;8H     args.clear();[60;8H }[60;10H[K[61;4H[1m[33m [m[37m[40m[1m    [1m[33mreturn[m[37m[40m[1m [1m[35m0[m[37m[40m[1m;[46;32H[K[47;17H[46m{[m[37m[40m[1m[48;17H [49;17H[46m}[m[37m[40m[1m[62;65H1,13[8C99%[47;17H [46m [m[37m[40m[1m[48;16H {[48;21H[K[49;16H [46m [m[37m[40m[1m   args.push_back(*it);[50;12H     }[51;12H }[51;14H[K[52;12H [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m[53;12H [1m[33mif[m[37m[40m[1m(concatArg(args)){[53;33H[K[54;16H [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[55;16H     comCD(args);[56;16H }[1m[33melse[m[37m[40m[1m{[56;23H[K[57;16H     allCommand(args);[58;12H     }[59;12H }[59;14H[K[60;8H     args.clear();[61;8H }[61;10H[K[47;17H[K[48;17H[46m{[m[37m[40m[1m[49;17H [50;17H[46m}[m[37m[40m[1m[62;65H2[48;17H }{[48;17H[K[62;63H495,7[41;77H[48;14H[46m{[m[37m[40m[1m[62;63H502,10[48;14H[41;77H[46m{[48;13H}[m[37m[40m[1m{[50;17H}[62;67H9 [48;13H[41;77H{[48;13H}[62;67H8[48;12H[41;77H[46m{[48;13H}[m[37m[40m[1m[62;67H9[48;13H [46m [m[37m[40m[1m   }{    [46m}[m[37m[40m[1m[62;67H13[48;17H[41;77H{[48;17H}[62;65H1[47;17H[44;34H[46m{[46;17H}[m[37m[40m[1m[62;65H0[46;17H[62;68H4[46;18H[44;34H{[46;17H}[62;68H5[46;19H[1C[46m([10C)[m[37m[40m[1m[62;68H6[46;20H[62;68H7[46;21H([10C)[62;68H8[46;22H[62;68H9[46;23H[62;67H20[46;24H[62;68H1[46;25H[62;68H2[46;26H[62;68H3[46;27H[62;68H4[46;28H[62;68H5[46;29H[62;68H6[46;30H[46;20H[46m([10C)[m[37m[40m[1m[62;68H7[46;31H[62;68H8[46;32H[46m)[m[37m[40m[1m{[46;20H([10C)[46m{[48;17H}[m[37m[40m[1m[62;68H9[46;33H{[48;17H}[62;65H1,13[47;17H[62;68H7[47;21H b[62;68H8[47;22Hbo[62;68H9[47;23Hoo[62;67H20[47;24H[47;23H[K[62;67H19[47;23H[47;22H[K[62;68H8[47;22H[47;21H[K[62;68H7[47;21H r[62;68H8[47;22Hru[62;68H9[47;23Hun[62;67H20[47;24H[62;68H1[47;25H =[62;68H2[47;26H[62;68H3[47;27H f[62;68H4[47;28Hfa[62;68H5[47;29Hal[62;68H6[47;30Hls[62;68H7[47;31H[1m[35mfalse[m[37m[40m[1m[62;68H8[47;32H[1m[35me[m[37m[40m[1m;[62;68H9[47;33H[48;18H[46m{[50;17H}[m[37m[40m[1m[62;65H2,15[48;19H[62;68H4[48;18H{[50;17H}[62;65H1[47;18H[44;34H[46m{[46;17H}[m[37m[40m[1m[62;65H0[46;18H[46m}[m[37m[40m[1meif(*it == [1m[35m"#"[m[37m[40m[1m){[44;34H{[46;17H}[62;68H5[46;19Helif(*it == [1m[35m"#"[m[37m[40m[1m){[62;68H6[46;20Hlsif(*it == [1m[35m"#"[m[37m[40m[1m){[62;68H7[46;21Hseif(*it == [1m[35m"#"[m[37m[40m[1m){[62;68H8[46;22H[62;65H1[47;22H[62;68H7[47;21H[62;65H0[46;21H[62;68H8[46;22H[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(*it == [1m[35m"#"[m[37m[40m[1m){[62;68H9[46;23H[62;68H8[46;22H[62;65H1[47;22H[62;68H7[47;21H[62;68H6[47;20H[48;18H[46m{[50;17H}[m[37m[40m[1m[62;65H2,14[48;18H[46;37H[46m{[48;17H}[m[37m[40m[1m{[50;17H}[62;68H3[48;17H[46;37H{[48;17H}[46m{[50;17H}[m[37m[40m[1m[62;68H4[48;18H}[46m [m[37m[40m[1m[49;16H {[49;21H[K[50;16H [46m [m[37m[40m[1m   args.push_back(*it);[51;12H     }[52;12H }[52;14H[K[53;12H [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m[54;12H [1m[33mif[m[37m[40m[1m(concatArg(args)){[54;33H[K[55;16H [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[56;16H     comCD(args);[57;16H }[1m[33melse[m[37m[40m[1m{[57;23H[K[58;16H     allCommand(args);[59;12H     }[60;12H }[60;14H[K[61;8H     args.clear();[48;18H[K[49;17H[46m{[m[37m[40m[1m[50;17H [51;17H[46m}[m[37m[40m[1m[62;65H3,13[49;17H [46mi[m[37m[40m[1m{i[46m{[m[37m[40m[1m[62;68H4[49;18H[1m[33mi[m[37m[40m[1m[1m[33m[46mf[m[37m[40m[1m{[1m[33mf[m[37m[40m[1m[46m{[m[37m[40m[1m[62;68H5[49;19Hi{[46m {[m[37m[40m[1m[49;19H[K[62;68H4[49;18H {[46m {[m[37m[40m[1m[49;18H[K[62;68H3[49;17H {[49;17H[K[49;13H[46m{[m[37m[40m[1m[62;67H9 [49;13H {[49;13H[K[49;9H[46m{[m[37m[40m[1m[62;67H5[49;9H[49;4H[1m[33m [m[37m[40m[1m{[49;9H[K[49;5H[46m{[m[37m[40m[1m[62;67H1[49;5H[48;17H}{[49;4H[1m[33m [m[37m[40m[1m[46m [m[37m[40m[1m[14C args.push_back(*it);[50;16H }[50;21H[K[51;12H }[51;17H[K[52;12H [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m[53;12H [1m[33mif[m[37m[40m[1m(concatArg(args)){[53;33H[K[54;12H     [1m[33mif[m[37m[40m[1m(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m){[55;16H     comCD(args);[55;33H[K[56;16H }[1m[33melse[m[37m[40m[1m{[56;23H[K[57;16H     allCommand(args);[58;16H }[58;21H[K[59;12H }[59;17H[K[60;12H args.clear();[61;8H }[61;13H[K[48;18H[46m{[m[37m[40m[1m[49;5H [50;17H[46m}[m[37m[40m[1m[62;65H2,14[48;18H}[46me[m[37m[40m[1m{e[46m{[m[37m[40m[1m[62;68H5[48;19He[46ml[m[37m[40m[1m{l[46m{[m[37m[40m[1m[62;68H6[48;20Hl[46ms[m[37m[40m[1m{s[46m{[m[37m[40m[1m[62;68H7[48;21H[1m[33mels[m[37m[40m[1m[1m[33m[46me[m[37m[40m[1m{[1m[33me[m[37m[40m[1m[46m{[m[37m[40m[1m[62;68H8[48;22H[1m[33me[m[37m[40m[1m[46m [m[37m[40m[1m{ [46m{[m[37m[40m[1m[62;68H9[48;23H [46mi[m[37m[40m[1m{i[46m{[m[37m[40m[1m[62;67H20[48;24H[1m[33mi[m[37m[40m[1m[1m[33m[46mf[m[37m[40m[1m{[1m[33mf[m[37m[40m[1m[46m{[m[37m[40m[1m[62;68H1[48;25H[1m[33mf[m[37m[40m[1m[46m([m[37m[40m[1m[1m[37m[41m{[m[37m[40m[1m[50;17H[1m[37m[46m}[m[37m[40m[1m[51;13H[1m[37m[41m}[53;32H{[54;34H{[56;17H}[4C{[58;17H}[59;13H}[61;9H}[m[37m[40m[1m[48;25H([1m[37m[46m{[m[37m[40m[1m[62;68H2[48;26H([46mr[m[37m[40m[1m[1m[37m[41m{[m[37m[40m[1mr[1m[37m[46m{[m[37m[40m[1m[62;68H3[48;27Hr[46mu[m[37m[40m[1m[1m[37m[41m{[m[37m[40m[1mu[1m[37m[46m{[m[37m[40m[1m[62;68H4[48;28Hu[46mn[m[37m[40m[1m[1m[37m[41m{[m[37m[40m[1mn[1m[37m[46m{[m[37m[40m[1m[62;68H5[48;29Hn[46m)[m[37m[40m[1m{[50;17H[46m}[m[37m[40m[1m[51;13H}[53;32H{[54;34H{[56;17H}[1m[33melse[m[37m[40m[1m{[58;17H}[59;13H}[61;9H}[62;68H1[48;25H(run)[46m{[m[37m[40m[1m[62;68H6[48;30H{[50;17H}[62;63H461,47[6;51H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m453 [m[37m[40m[1m    [1m[32mchar[m[37m[40m[1m cwd[[1m[35mBUFSIZ[m[37m[40m[1m];
[1m[33m454 
455 [m[37m[40m[1m    [1m[36m//Declarations[m[37m[40m[1m[62;63H[K[62;63H461,47[8C98%[9;51H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m450 [m[37m[40m[1m[1m[36m    }else{[m[37m[40m[1m
[1m[33m451 [m[37m[40m[1m[1m[36m        perror("Cannot get User Name");[m[37m[40m[1m
[1m[33m452 [m[37m[40m[1m[1m[36m    }*/[m[37m[40m[1m[62;63H[K[62;63H461,47[8C98%[12;51H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m447 [m[37m[40m[1m[1m[36m    }[m[37m[40m[1m
[1m[33m448 [m[37m[40m[1m[1m[36m    if(getlogin() != NULL){[m[37m[40m[1m
[1m[33m449 [m[37m[40m[1m[1m[36m        user = getlogin();[m[37m[40m[1m[62;63H[K[62;63H461,47[8C97%[15;51H[20;48H[46m{[24;13H}[m[37m[40m[1m[62;64H70,10[24;14H[62;4H[1m(insert)- VISUAL --[m[37m[40m[1m[62;63H[K[62;63H469,14[8C97%[20;48H{[24;5H[7m[40m        } [23;18H[22;26Hr([m[37m[40m[1m[1m[7m[35m[40m"sigaction"[m[37m[40m[1m[7m[40m); [23;5H            } [m[37m[40m[1m[62;65H8,21[22;25H[21;25H[7m[40mtion([m[37m[40m[1m[1m[7m[35m[40mSIGINT[m[37m[40m[1m[7m[40m, &newAction, &oldAction )< [m[37m[40m[1m[1m[7m[35m[40m0[m[37m[40m[1m[7m[40m){ [22;5H                perro[m[37m[40m[1m[62;65H7,20[21;24H[7m[40mc[m[37m[40m[1m[62;67H19[21;23H[20;24H[7m[40mn.sa_handler != [m[37m[40m[1m[1m[7m[35m[40mSIG_IGN[m[37m[40m[1m[7m[40m){ [21;5H            [m[37m[40m[1m[1m[7m[33m[40mif[m[37m[40m[1m[7m[40m(siga[m[37m[40m[1m[62;65H6[20;23H[20;5H[7m[40m        [m[37m[40m[1m[1m[7m[33m[40mif[m[37m[40m[1m[7m[40m(oldActio[m[37m[40m[1m[62;65H5,9 [19;13H[18;22H[7m[40m.sa_flags = [m[37m[40m[1m[1m[7m[35m[40m0[m[37m[40m[1m[7m[40m; [19;5H         [m[37m[40m[1m[62;65H4,17[18;21H[7m[40mn[m[37m[40m[1m[62;68H6[18;20H[17;21H[7m[40mset(&newAction.sa_mask); [18;5H        newActio[m[37m[40m[1m[62;65H3[17;20H[7m[40my[m[37m[40m[1m[62;68H5[17;19H[16;20H[7m[40mon.sa_handler = sigHandler; [17;5H        sigempt[m[37m[40m[1m[62;65H2[16;19H[7m[40mi[m[37m[40m[1m[62;68H4[16;18H[7m[40mt[m[37m[40m[1m[62;68H3[16;17H[7m[40mc[m[37m[40m[1m[62;68H2[16;16H[15;17H[1m[7m[32m[40mct[m[37m[40m[1m[7m[40m sigaction newAction, oldAction; [16;5H        newA[m[37m[40m[1m[62;65H1[15;16H[1m[7m[32m[40muct[m[37m[40m[1m[7m[40m [m[37m[40m[1m[62;68H1[15;15H[1m[7m[32m[40mruct[m[37m[40m[1m[7m[40m [m[37m[40m[1m[62;68H0[15;14H[1m[7m[32m[40mtruct[m[37m[40m[1m[7m[40m [m[37m[40m[1m[62;67H9 [15;13H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m444 [m[37m[40m[1m[1m[36m    int hStat = gethostname(host, 200);[m[37m[40m[1m
[1m[33m445 [m[37m[40m[1m[1m[36m    if(hStat !=0){[m[37m[40m[1m
[1m[33m446 [m[37m[40m[1m[1m[36m        perror("Cannot get Host Name");[m[37m[40m[1m[62;63H[K[62;63H461,9[9C96%[18;13H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m441 [m[37m[40m[1m    [1m[36m//Login[m[37m[40m[1m
[1m[33m442 [m[37m[40m[1m    [1m[36m/*char host[200];//allocate memeory for host[m[37m[40m[1m
[1m[33m443 [m[37m[40m[1m[1m[36m    char* user;[m[37m[40m[1m[62;63H[K[62;63H461,9[9C96%[21;13H[62;1H10 fewer lines[1mS[m[37m[40m[1m[62;15H[K[21;12H         [21;21H[K[22;5H        [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m[23;5H        [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){[23;44H[K[24;5H            perror([1m[35m"getcwd"[m[37m[40m[1m);[24;34H[K[25;5H        }[26;5H        string home = getenv([1m[35m"HOME"[m[37m[40m[1m);[26;42H[K[27;5H        string dir = cwd;[27;30H[K[28;5H        [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){[28;30H[K[29;5H            perror([1m[35m"getenv"[m[37m[40m[1m);[30;5H        }[30;14H[K[31;12H [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){[32;12H     dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);[32;48H[K[33;12H }[33;14H[K[34;17H[K[35;12H cout << dir <<[1m[35m" $ "[m[37m[40m[1m;[36;12H cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m[37;13H[K[38;12H cin.clear();[38;25H[K[39;12H getline(cin,input);[1m[36m//get input[m[37m[40m[1m[40;4H[1m[33m [m[37m[40m[1m[1m[36m//================Tokenize the input into multiple parts==============[m[37m[40m[1m[41;12H [1m[36m//separators[m[37m[40m[1m[41;25H[K[42;12H char_separator<[1m[32mchar[m[37m[40m[1m> delim([1m[35m" "[m[37m[40m[1m,[1m[35m";#"[m[37m[40m[1m);[43;12H tokenizer<char_separator<[1m[32mchar[m[37m[40m[1m> > mytok(input, delim);[1m[36m//seperat the ii[m[37m[40m[1m[44;1H[1m[33m    [m[37m[40m[1m[1m[36mnput[m[37m[40m[1m[45;2H[1m[33m84 [m[37m[40m[1m[45;13H[K[46;2H[1m[33m85 [m[37m[40m[1m        [1m[33mfor[m[37m[40m[1m(mytok::iterator it = mytok.begin(); it != mytok.end(); ++it){[47;2H[1m[33m86 [m[37m[40m[1m [10C [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m[48;2H[1m[33m87 [m[37m[40m[1m            [1m[36m//cout << "token: " << *it  << endl; [m[37m[40m[1m[49;2H[1m[33m88 [m[37m[40m[1m            [1m[33mif[m[37m[40m[1m(*it == [1m[35m"exit"[m[37m[40m[1m){[49;35H[K[50;1H[1m[33m489 [m[37m[40m[1m                exit([1m[35m0[m[37m[40m[1m);[50;29H[K[51;2H[1m[33m90 [m[37m[40m[1m            }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(*it == [1m[35m"#"[m[37m[40m[1m){[52;2H[1m[33m91 [m[37m[40m[1m                run = [1m[35mfalse[m[37m[40m[1m;[52;34H[K[53;2H[1m[33m92 [m[37m[40m[1m            }[1m[33melse[m[37m[40m[1m [1m[33mif[m[37m[40m[1m(run){[53;31H[K[54;1H[1m[33m493 [m[37m[40m[1m     [10C args.push_back(*it);[55;16H }[56;12H }[56;14H[K[57;12H [1m[36m//==============RUN THE COMMANDS======================[m[37m[40m[1m[58;12H [1m[33mif[m[37m[40m[1m(concatArg(args)){[58;33H[K[59;19H(args[[1m[35m0[m[37m[40m[1m]==[1m[35m"cd"[m[37m[40m[1m)[60;20H comCD(args);[61;21H[1m[33me[m[37m[40m[1m{[61;23H[K[62;1H[1m-- INSERT --[m[37m[40m[1m[62;13H[K[62;63H461,9[9C98%10 fewer lines[62;63H[K[21;13H[62;1H[1m-- INSERT --[m[37m[40m[1m[62;13H[K[62;63H461,9[9C98%[1;61r[1;1H[3L[1;62r[1;1H[1m[33m438 [m[37m[40m[1m}
[1m[33m439 
440 [m[37m[40m[1m[1m[32mint[m[37m[40m[1m main([1m[32mint[m[37m[40m[1m argc,[1m[32mchar[m[37m[40m[1m **argv){[62;63H[K[62;63H461,9[9C97%[24;13H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m435 [m[37m[40m[1m    pids = [1m[35m0[m[37m[40m[1m;
[1m[33m436 [m[37m[40m[1m    pidfd = [1m[35m0[m[37m[40m[1m;
[1m[33m437 [m[37m[40m[1m[62;63H[K[62;63H461,9[9C97%[27;13H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m432 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] pidfd;
[1m[33m433 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] forks;
[1m[33m434 [m[37m[40m[1m    forks = [1m[35m0[m[37m[40m[1m;[62;63H[K[62;63H461,9[9C96%[30;13H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m429 
430 [m[37m[40m[1m    [1m[36m//De-allocate memory[m[37m[40m[1m
[1m[33m431 [m[37m[40m[1m    [1m[33mdelete[m[37m[40m[1m [] pids;[62;63H[K[62;63H461,9[9C95%[33;13H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m426 [m[37m[40m[1m[7C }
[1m[33m427 [m[37m[40m[1m[7C cout << [1m[35m"Child PID: "[m[37m[40m[1m<< pid << endl;
[1m[33m428 [m[37m[40m[1m    }[62;63H[K[62;63H461,9[9C95%[36;13H[1;61r[1;1H[3L[1;62r[1;1H[1m[33m423 [m[37m[40m[1m[7C [1m[33mif[m[37m[40m[1m((pid = wait(&status))<[1m[35m0[m[37m[40m[1m){
[1m[33m424 [m[37m[40m[1m[11C perror([1m[35m"wait"[m[37m[40m[1m);
[1m[33m425 [m[37m[40m[1m[11C [1m[33mreturn[m[37m[40m[1m;[61;1H[1m[34m@                                                                               [m[37m[40m[1m[62;63H[K[62;63H461,9[9C94%[39;13H[62;64H53,22[31;26H[33;9H[K[34;8H [1m[36m//Declarations[m[37m[40m[1m[35;8H string input;[35;22H[K[36;8H vector<string> args;[37;9H[K[38;8H [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m[39;8H [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){[40;12H         [40;21H[K[41;12H [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m[42;12H [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){[43;12H     perror([1m[35m"getcwd"[m[37m[40m[1m);[44;12H }[44;14H[K[45;19H home = getenv([1m[35m"HOME"[m[37m[40m[1m);[46;12H string dir = cwd;[47;12H [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){[47;30H[K[48;12H     perror([1m[35m"getenv"[m[37m[40m[1m);[49;12H }[49;14H[K[50;12H [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){[51;12H     dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);[52;12H }[53;13H[K[54;16Ht << dir <<[1m[35m" $ "[m[37m[40m[1m;[54;33H[K[55;12H cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m[56;13H[K[57;12H cin.clear();[57;25H[K[58;4H[1m[33m [m[37m[40m[1m        getline(cin,input);[1m[36m//get input[m[37m[40m[1m[58;43H[K[59;4H[1m[33m [m[37m[40m[1m[1m[36m//================Tokenize the input into multiple parts==============[m[37m[40m[1m[60;12H [1m[36m//separators[m[37m[40m[1m[60;25H[K[61;1H[1m[33m483 [m[37m[40m[1m        char_separator<[1m[32mchar[m[37m[40m[1m> delim([1m[35m" "[m[37m[40m[1m,[1m[35m";#"[m[37m[40m[1m);[61;50H[K[62;65H4,5 [32;9H[34;9H[K[35;8H [1m[36m//Declarations[m[37m[40m[1m[36;8H string input;[36;22H[K[37;8H vector<string> args;[38;9H[K[39;8H [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m[40;8H [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){[41;12H         [41;21H[K[42;12H [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m[43;12H [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){[44;12H     perror([1m[35m"getcwd"[m[37m[40m[1m);[45;12H }[45;14H[K[46;19H home = getenv([1m[35m"HOME"[m[37m[40m[1m);[47;12H string dir = cwd;[48;12H [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){[48;30H[K[49;12H     perror([1m[35m"getenv"[m[37m[40m[1m);[50;12H }[50;14H[K[51;12H [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){[52;12H     dir.replace([1m[35m0[m[37m[40m[1m,home.size(),[1m[35m"~"[m[37m[40m[1m);[53;12H }[54;13H[K[55;16Ht << dir <<[1m[35m" $ "[m[37m[40m[1m;[55;33H[K[56;12H cout.flush();[1m[36m//flush just to be safe[m[37m[40m[1m[57;13H[K[58;12H cin.clear();[58;25H[K[59;4H[1m[33m [m[37m[40m[1m        getline(cin,input);[1m[36m//get input[m[37m[40m[1m[59;43H[K[60;4H[1m[33m [m[37m[40m[1m[1m[36m//================Tokenize the input into multiple parts==============[m[37m[40m[1m[61;12H [1m[36m//separators[m[37m[40m[1m[61;25H[K[62;65H5[33;9H[62;1H[K[33;5H[62;63H455,0-1[7C94%[33;5H[62;1H10 more lines[62;63H[K[33;4H[1m[33m [m[37m[40m[1m[1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;[34;12H newAction.sa_handler = sigHandler;[35;8H     sigemptyset(&newAction.sa_mask);[36;8H     newAction.sa_flags = [1m[35m0[m[37m[40m[1m;[37;8H     [37;13H[K[38;12H [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){[39;8H         [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){[40;8H             perror([1m[35m"sigaction"[m[37m[40m[1m);[41;16H }[42;12H }[42;14H[K[43;13H[K[44;17H[K[45;8H [1m[36m//Declarations[m[37m[40m[1m[46;8H string input;[46;22H[K[47;8H vector<string> args;[47;29H[K[48;13H[K[49;8H [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m[50;8H [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){[51;12H         [51;21H[K[52;12H [1m[36m//cout << user << "@" << host << " $ ";[m[37m[40m[1m[53;12H [1m[33mif[m[37m[40m[1m(getcwd(cwd,[1m[35mBUFSIZ[m[37m[40m[1m) == [1m[35mNULL[m[37m[40m[1m){[54;16H perror([1m[35m"getcwd"[m[37m[40m[1m);[55;12H }[55;14H[K[56;12H string home = getenv([1m[35m"HOME"[m[37m[40m[1m);[56;42H[K[57;12H string dir = cwd;[58;12H [1m[33mif[m[37m[40m[1m(home == [1m[35m"[m[37m[40m[1m[1m[31m\0[m[37m[40m[1m[1m[35m"[m[37m[40m[1m){[59;12H     perror([1m[35m"getenv"[m[37m[40m[1m);[59;34H[K[60;4H[1m[33m [m[37m[40m[1m        }[60;14H[K[61;12H [1m[33mif[m[37m[40m[1m(dir.find(home,[1m[35m0[m[37m[40m[1m) != string::npos){[62;63H455,1[9C92%[62;63H[K[62;63H455,1[9C92%[33;5H[62;1H[1m-- INSERT --[m[37m[40m[1m[62;13H[K[62;63H455,1[9C92%[33;5H[1m[33m [m[37m[40m[1m    [1m[32mstruct[m[37m[40m[1m sigaction newAction, oldAction;[62;67H5[33;9H[62;65H6[34;9H[62;67H6[34;10H[62;65H7,7[35;11H[62;65H6[34;11H[62;67H8[34;12H[62;65H7[35;12H[62;67H9[35;13H[62;65H6[34;13H newAction.sa_handler = sigHandler;[34;43H[K[62;67H5[34;9H     newAction.sa_handler = sigHandler;[62;67H9[34;13H[62;65H7[35;13H[62;65H8[36;13H[62;65H9[37;13H[62;64H60[38;13H[62;65H1[39;13H[62;65H0[38;13H[62;64H59[37;13H[62;65H8[36;13H newAction.sa_flags = [1m[35m0[m[37m[40m[1m;[36;32H[K[62;67H5[36;9H[62;65H7[35;9H[62;67H6[35;10H[62;67H7[35;11H[62;67H6[35;10H[62;67H5[35;9H sigemptyset(&newAction.sa_mask);[35;41H[K[62;67H1[35;5H[62;65H6[34;5H[62;67H2[34;6H[62;65H7[35;6H[62;67H1[35;5H[62;67H2[35;6H[62;67H3[35;7H[62;67H4[35;8H[62;67H5[35;9H[62;65H6[34;9H newAction.sa_handler = sigHandler;[34;43H[K[62;67H1[34;5H[62;64H60,9[38;13H [1m[33mif[m[37m[40m[1m(oldAction.sa_handler != [1m[35mSIG_IGN[m[37m[40m[1m){[38;45H[K[62;67H5[38;9H[62;65H1,12[39;16H[62;68H3[39;17H [1m[33mif[m[37m[40m[1m(sigaction([1m[35mSIGINT[m[37m[40m[1m, &newAction, &oldAction )< [1m[35m0[m[37m[40m[1m){[39;64H[K[62;67H9 [39;13H[62;65H2,17[40;21H perror([1m[35m"sigaction"[m[37m[40m[1m);[40;37H[K[62;68H3[40;17H[39;62H[46m{[41;17H}[m[37m[40m[1m[62;65H3[41;17H }[41;17H[K[41;13H[46m}[m[37m[40m[1m[62;67H9 [41;13H[38;44H[46m{[m[37m[40m[1m[39;62H{[41;13H}[42;13H[46m}[m[37m[40m[1m[62;65H4,10[42;14H[42;13H[K[38;44H{[62;67H9 [42;13H[62;67H5[42;9H }[62;65H0,40[38;44H[46m{[42;9H}[m[37m[40m[1m[62;65H4,6 [42;10H[38;44H{[42;9H}[62;65H5,1[43;5H[44;8H [1m[36m//Declarations[m[37m[40m[1m[45;8H string input;[45;22H[K[46;8H vector<string> args;[47;9H[K[48;8H [1m[36m//While loop that repeats $ and cin command[m[37m[40m[1m[49;8H [1m[33mwhile[m[37m[40m[1m([1m[35mtrue[m[37m[40m[1m){[49;21H[K[50;8H           